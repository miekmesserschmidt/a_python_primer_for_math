
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass{report}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    \usepackage{mathrsfs}
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}
    \definecolor{ansi-default-inverse-fg}{HTML}{FFFFFF}
    \definecolor{ansi-default-inverse-bg}{HTML}{000000}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatibility definitions
    \def\gt{>}
    \def\lt{<}
    \let\Oldtex\TeX
    \let\Oldlatex\LaTeX
    \renewcommand{\TeX}{\textrm{\Oldtex}}
    \renewcommand{\LaTeX}{\textrm{\Oldlatex}}
    % Document parameters
    % Document title
    \title{A Python Primer for Mathematics}
    
    
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    
    \maketitle
    
    
    \tableofcontents


    
\chapter{Introduction}\label{introduction}

This document is meant to prime mathematics students into using Python
for doing mathematics symbolically and numerically. It is \emph{not}
meant to be used as a comprehensive text, but rather as a demonstrative
cheatsheet to get up and running with the basics Python and for using
Python for scientific computing as quickly as possible.

We will give very brief introductory demonstrations of the basics of the
Python language, before moving on to a few more advanced features and
demonstrations of the packages \emph{sympy}, \emph{numpy}, and
\emph{matplotlib} which are increasingly used in modern scientific
computing.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} 
\end{Verbatim}

\chapter{Code blocks and indentation}\label{code-blocks-and-indentation}

Before we start, we point out the most striking feature of python: That
code blocks are indicated by indentation. (See
{[}https://en.wikipedia.org/wiki/Indentation\_(typesetting)\#Indentation\_in\_programming{]}).

Indentation is an essential best practice in any programming language,
even if code will still work without indentation. In older langauges
indentation plays no role in the meaning of a program, and unindented
code works just as well as indented code. The only reason to indent code
is to make it more readable, and thereby easier to maintain when buggy
-\/- and your code will be buggy.

Python forces the user to indent their code properly, otherwise it will
not even run.

Below are functions written in C, Pascal and Python, each doing the same
thing: Testing whether or not a number is prime.

\section{Code blocks in C: Between \{ ...
\}}\label{code-blocks-in-c-between-...}

Consider the following C function. Notice the how the characters '\{'
and '\}' indicate the beginning and end of the code blocks how the code
blocks is indented.

\begin{verbatim}
int prime(int n) {
    int i;
    for(i=2; i<n; i++) {
        if(n % i == 0) {
            return 1;   
        }
    }
    return 0;
}
\end{verbatim}

The following is also valid C code and will still work. However, this
code is much harder to read and maintain if we discover a bug, since we
cannot see where code blocks begin and end. We cannot even see which
curly brackes match up to their partners.

\begin{verbatim}
int prime(int n) {
int i;
for(i=2; i<n; i++) {
if(n % i == 0) {
return 1;   
}} return 0;}
\end{verbatim}

\section{Code blocks in Pascal: Between begin ...
end}\label{code-blocks-in-pascal-between-begin-...-end}

Consider the following Pascal function. Notice the how the keywords
'begin' and 'end' indicate the beginning and end of the code blocks how
the code is indented.

\begin{verbatim}
function is_prime(number:longint):boolean;

var i:longint;
    return_value: boolean;
    
begin
    return_value := true;

    for i:=2 to number-1 do begin
        if (number mod i = 0) then begin
             return_value := false;
             break;
        end;
    end;

    if (return_value = true) then begin
        if (number = 0) or (number = 1) then begin        
            return_value := false;
        end;
    end;

    is_prime := return_value;
end;
\end{verbatim}

The following is also valid Pascal code and will also work. However, is
a lot harder to read, since we cannot see where code blocks begin and
end.

\begin{verbatim}
function is_prime(number:longint):boolean;

var i:longint;
return_value: boolean;

begin
return_value := true;
for i:=2 to number-1 do begin if (number mod i = 0) then begin
return_value := false; break; end;end;
if (return_value = true) then begin if (number = 0) or (number = 1) then begin        
return_value := false; end;end;
is_prime := return_value;
end;
\end{verbatim}

\section{Code blocks in Python: Purely by
indentation}\label{code-blocks-in-python-purely-by-indentation}

Consider the following Python function.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k}{def} \PY{n+nf}{is\PYZus{}prime}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{:}
            \PY{k}{if} \PY{n}{n} \PY{o}{\PYZlt{}} \PY{l+m+mi}{2}\PY{p}{:}
                \PY{k}{return} \PY{k+kc}{False}
            
            \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,}\PY{n}{n}\PY{p}{)}\PY{p}{:}
                \PY{k}{if} \PY{n}{n} \PY{o}{\PYZpc{}} \PY{n}{i} \PY{o}{==} \PY{l+m+mi}{0}\PY{p}{:}
                    \PY{k}{return} \PY{k+kc}{False}
            \PY{k}{return} \PY{k+kc}{True}
\end{Verbatim}

Since Python code blocks are indicated by indentation, the following is
\textbf{\emph{not valid}} Python and will not work. Trying to run it
results in an \textbf{IndentationError}.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{k}{def} \PY{n+nf}{is\PYZus{}prime}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{:}    
        \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,}\PY{n}{n}\PY{p}{)}\PY{p}{:}
        \PY{k}{if} \PY{n}{n} \PY{o}{\PYZpc{}} \PY{n}{i} \PY{o}{==} \PY{l+m+mi}{0}\PY{p}{:}
        \PY{k}{return} \PY{k+kc}{False}
        \PY{k}{return} \PY{k+kc}{True}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]

          File "<ipython-input-3-c6c5cc7430e0>", line 2
        for i in range(2,n):
          \^{}
    IndentationError: expected an indented block


    \end{Verbatim}

\section{The Zen of Python}\label{the-zen-of-python}

By using indentation to indicate code blocks, Python forces its
programmers to adhere to best practices and makes it impossible to write
ugly unindented code that still works. You might still find some way to
write ugly code, but it is harder than in other languages like C or
Pascal.

Notice further how much shorter the Python function is compared to the C
and Pascal versions. Python is first and foremost designed to enable you
to write beautiful, short and expressive code. Beauty is so important in
Python that it is the first line in the 'Zen of Python' which codifies
the entire Python philosophy.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k+kn}{import} \PY{n+nn}{this}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
The Zen of Python, by Tim Peters

Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren't special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one-- and preferably only one --obvious way to do it.
Although that way may not be obvious at first unless you're Dutch.
Now is better than never.
Although never is often better than *right* now.
If the implementation is hard to explain, it's a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea -- let's do more of those!

    \end{Verbatim}

\chapter{Python language basics}\label{python-language-basics}

\section{Comments}\label{comments}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{c+c1}{\PYZsh{} Everything on a line after a \PYZsq{}\PYZsh{}\PYZsq{} is ignored by Python}
\end{Verbatim}

\section{Basic calculations with
numbers}\label{basic-calculations-with-numbers}

Addition works as expected

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{l+m+mi}{1}\PY{o}{+}\PY{l+m+mi}{2}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}1}]:} 3
\end{Verbatim}
            
... so does subtraction

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{l+m+mf}{2.5} \PY{o}{\PYZhy{}} \PY{l+m+mi}{6}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}5}]:} -3.5
\end{Verbatim}
            
... and division.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{l+m+mi}{3}\PY{o}{/}\PY{l+m+mi}{2}    
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}4}]:} 1.5
\end{Verbatim}
            
The floor division operator // throws away everything after the decimal
point (as in long division)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{l+m+mi}{13} \PY{o}{/}\PY{o}{/} \PY{l+m+mi}{5}  \PY{c+c1}{\PYZsh{} quotient of 13 divided by 5 (disragarding the fractional part or remainder)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}1}]:} 2
\end{Verbatim}
            
... and the \% operator gives the remainder of a division (as in long
division)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{l+m+mi}{13} \PY{o}{\PYZpc{}} \PY{l+m+mi}{5}  \PY{c+c1}{\PYZsh{} remainder when 13 is divided by 5}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}6}]:} 3
\end{Verbatim}
            
The power operator ** is often useful \((2^4=16)\)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{l+m+mi}{2}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{4}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}8}]:} 16
\end{Verbatim}
            
\section{Variables}\label{variables}

We can assign values to variables

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{n}{a} \PY{o}{=} \PY{l+m+mi}{5}
        \PY{n}{b} \PY{o}{=} \PY{l+m+mi}{6}
\end{Verbatim}

... and then compute with them:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{n}{a} \PY{o}{+} \PY{n}{b}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}11}]:} 11
\end{Verbatim}
            
We can reassign their values,

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{n}{a} \PY{o}{=} \PY{l+m+mi}{9}
\end{Verbatim}

... to change the outcome of the computation

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{n}{a} \PY{o}{+} \PY{n}{b}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}16}]:} 15
\end{Verbatim}
            
\section{Strings (text)}\label{strings-text}

Strings store text. We use either ' ... ' or " ... " to denote a string

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}17}]:} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{This is a string}\PY{l+s+s2}{\PYZdq{}}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}17}]:} 'This is a string'
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}18}]:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{This is also a string}\PY{l+s+s1}{\PYZsq{}}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}18}]:} 'This is also a string'
\end{Verbatim}
            
We can join strings using the "+" operator. This is called
\emph{concatenation}.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{begin}\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ner}\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{s}\PY{l+s+s2}{\PYZdq{}}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}19}]:} 'beginners'
\end{Verbatim}
            
We can assign strings to variables...

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}20}]:} \PY{n}{part1} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{This is a message }\PY{l+s+s2}{\PYZdq{}}
         \PY{n}{part2} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{for you}\PY{l+s+s2}{\PYZdq{}}
\end{Verbatim}

... and concatenate the variables

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}22}]:} \PY{n}{full\PYZus{}message} \PY{o}{=} \PY{n}{part1} \PY{o}{+} \PY{n}{part2}
         \PY{n}{full\PYZus{}message}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}22}]:} 'This is a message for you'
\end{Verbatim}
            
We can access individual characters of a string. (Remember that we index
from starting from zero!)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}23}]:} \PY{n}{n} \PY{o}{=} \PY{l+m+mi}{2}
         \PY{n}{full\PYZus{}message}\PY{p}{[}\PY{n}{n}\PY{p}{]} 
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}23}]:} 'i'
\end{Verbatim}
            
We can also multiply strings.

Plug your ears and go ...

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}24}]:} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{la}\PY{l+s+s2}{\PYZdq{}}\PY{o}{*}\PY{l+m+mi}{10} 
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}24}]:} 'lalalalalalalalalala'
\end{Verbatim}
            
\section{\texorpdfstring{The \texttt{print}
function}{The print function}}\label{the-print-function}

To show some text on the screen we can use the \texttt{print} function.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Hello world}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
Hello world

    \end{Verbatim}

The \texttt{print} function is the most basic way to give some feedback
feedback during code execution. Make sure you understand the text
printed when the following code is executed:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{a} \PY{o}{=} \PY{l+m+mi}{5}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{The value of the variable a is initialized to :}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{a}\PY{p}{)}
        
        \PY{n}{a} \PY{o}{=} \PY{n}{a}\PY{o}{*}\PY{l+m+mi}{5} 
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{After replacing the value of a with 5*a the value of the variable a is :}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{a}\PY{p}{)}
        
        \PY{n}{a} \PY{o}{=} \PY{n}{a}\PY{o}{*}\PY{l+m+mi}{5} 
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Repeating the operation, the value of the variable a is now:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{a}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
The value of the variable a is initialized to : 5
After replacing the value of a with 5*a the value of the variable a is : 25
Repeating the operation, the value of the variable a is now: 125

    \end{Verbatim}

\section{Unpacking}\label{unpacking}

There is a more efficient way of writing

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \DecValTok{1}
\NormalTok{b }\OperatorTok{=} \DecValTok{2}
\NormalTok{c }\OperatorTok{=} \DecValTok{3}
\NormalTok{d }\OperatorTok{=} \DecValTok{4}
\end{Highlighting}
\end{Shaded}

The following is called \emph{unpacking}:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}29}]:} \PY{n}{a}\PY{p}{,} \PY{n}{b}\PY{p}{,} \PY{n}{c}\PY{p}{,} \PY{n}{d} \PY{o}{=} \PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{4}
         \PY{c+c1}{\PYZsh{} or}
         \PY{n}{a}\PY{p}{,} \PY{n}{b}\PY{p}{,} \PY{n}{c}\PY{p}{,} \PY{n}{d} \PY{o}{=} \PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}30}]:} \PY{n}{d}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}30}]:} 4
\end{Verbatim}
            
We are not restricted to just numbers. We can unpack anything

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}31}]:} \PY{n}{firstname}\PY{p}{,} \PY{n}{lastname}\PY{p}{,} \PY{n}{age} \PY{o}{=} \PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{john}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{von neumann}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+m+mi}{103}\PY{p}{)}
         \PY{n}{lastname}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}31}]:} 'von neumann'
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}32}]:} \PY{n}{age}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}32}]:} 103
\end{Verbatim}
            
\section{Swapping values by
unpacking}\label{swapping-values-by-unpacking}

Often we might want to swap the values of variables.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{n}{a}\PY{p}{,}\PY{n}{b} \PY{o}{=} \PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{8}
\end{Verbatim}

We want to swap a to have value 8 and b to have value 5.

In traditional languages we would need to use a temp variable as
follows:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{n}{temp} \PY{o}{=} \PY{n}{a}    \PY{c+c1}{\PYZsh{} DO NOT DO THIS!}
         \PY{n}{a} \PY{o}{=} \PY{n}{b}
         \PY{n}{b} \PY{o}{=} \PY{n}{temp}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{a=}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{a}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{b=}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{b}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
a= 8
b= 5

    \end{Verbatim}

The better way in python is to use unpacking:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{n}{a}\PY{p}{,}\PY{n}{b} \PY{o}{=} \PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{8}
         \PY{n}{a}\PY{p}{,}\PY{n}{b} \PY{o}{=} \PY{n}{b}\PY{p}{,}\PY{n}{a}   \PY{c+c1}{\PYZsh{} DO THIS!}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{a=}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{a}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{b=}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{b}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
a= 8
b= 5

    \end{Verbatim}

\section{The str, int and float
functons}\label{the-str-int-and-float-functons}

We can convert numbers to strings with the str function:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{n+nb}{str}\PY{p}{(}\PY{l+m+mi}{12}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}1}]:} '12'
\end{Verbatim}
            
... and strings to numbers using the int or float functions:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{n+nb}{int}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{13}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}2}]:} 13
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{n+nb}{float}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{1.111}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}3}]:} 1.111
\end{Verbatim}
            
\section{Comparisons}\label{comparisons}

We can ask Python if statements are true of false

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}35}]:} \PY{l+m+mi}{4} \PY{o}{\PYZlt{}} \PY{l+m+mi}{6}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}35}]:} True
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}36}]:} \PY{l+m+mi}{4} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{l+m+mi}{6} 
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}36}]:} True
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}37}]:} \PY{l+m+mi}{4} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{6} 
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}37}]:} False
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}38}]:} \PY{l+m+mi}{5}\PY{o}{\PYZlt{}}\PY{l+m+mi}{5}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}38}]:} False
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}39}]:} \PY{l+m+mi}{5}\PY{o}{\PYZlt{}}\PY{o}{=}\PY{l+m+mi}{5}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}39}]:} True
\end{Verbatim}
            
Notice the double equals "==" when asking is an equality is true:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}40}]:} \PY{l+m+mi}{3} \PY{o}{==} \PY{l+m+mi}{3} 
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}40}]:} True
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}41}]:} \PY{l+m+mi}{3} \PY{o}{==} \PY{l+m+mi}{4} 
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}41}]:} False
\end{Verbatim}
            
... a single "=" will not work to compare numbers:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}42}]:} \PY{l+m+mi}{3} \PY{o}{=} \PY{l+m+mi}{3} 
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]

          File "<ipython-input-42-49c8ce3fc03c>", line 2
        3 = 3
              \^{}
    SyntaxError: can't assign to literal


    \end{Verbatim}

The "!=" operator means "not equal to"

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}43}]:} \PY{l+m+mi}{3} \PY{o}{!=} \PY{l+m+mi}{4} 
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}43}]:} True
\end{Verbatim}
            
We can also compare variables

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}44}]:} \PY{n}{a}\PY{p}{,}\PY{n}{b}\PY{p}{,}\PY{n}{c} \PY{o}{=} \PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{,}\PY{l+m+mi}{7}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}45}]:} \PY{n}{b} \PY{o}{!=} \PY{l+m+mi}{7}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}45}]:} True
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}46}]:} \PY{n}{a} \PY{o}{\PYZlt{}} \PY{l+m+mi}{5} 
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}46}]:} False
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}47}]:} \PY{n}{a} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{l+m+mi}{5} 
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}47}]:} True
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}48}]:} \PY{n}{b} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{n}{a}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}48}]:} False
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}49}]:} \PY{n}{a} \PY{o}{\PYZlt{}} \PY{n}{b} \PY{o}{\PYZlt{}} \PY{n}{c} 
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}49}]:} True
\end{Verbatim}
            
We can also do computations in comparisons. Is the remainder when
dividing by 2 equal to zero, i.e., Is b even? Is c even?

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}51}]:} \PY{n}{b} \PY{o}{\PYZpc{}} \PY{l+m+mi}{2} \PY{o}{==} \PY{l+m+mi}{0}     \PY{c+c1}{\PYZsh{} 6 is even}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}51}]:} True
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}53}]:} \PY{n}{c} \PY{o}{\PYZpc{}} \PY{l+m+mi}{2} \PY{o}{==} \PY{l+m+mi}{0}     \PY{c+c1}{\PYZsh{} 7 is odd}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}53}]:} False
\end{Verbatim}
            
\chapter{If statements}\label{if-statements}

With if statements we can control the flow of execution of a program.

\section{If ... statements}\label{if-...-statements}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{n}{a}\PY{p}{,}\PY{n}{b} \PY{o}{=} \PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{6}
        \PY{k}{if} \PY{n}{a} \PY{o}{==} \PY{n}{b}\PY{p}{:}
            \PY{c+c1}{\PYZsh{} this is not executed because \PYZsq{}a == b\PYZsq{} is false}
            \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{a is equal to b}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)} 
        
        \PY{k}{if} \PY{n}{a} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{n}{b}\PY{p}{:}
            \PY{c+c1}{\PYZsh{} this is executed because \PYZsq{}a \PYZlt{}= b\PYZsq{} is true}
            \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{a is less than or equal to b}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
a is less than or equal to b

    \end{Verbatim}

\section{If ... else ... statements}\label{if-...-else-...-statements}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{n}{a}\PY{p}{,}\PY{n}{b} \PY{o}{=} \PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{6}
        \PY{k}{if} \PY{n}{a} \PY{o}{==} \PY{n}{b}\PY{p}{:}
            \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{a is equal to b}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{k}{else}\PY{p}{:}
            \PY{c+c1}{\PYZsh{} this is only executed if a == b is false}
            \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{a is not equal to b}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
a is not equal to b

    \end{Verbatim}

\section{If ... elif ... else ...
statements}\label{if-...-elif-...-else-...-statements}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{n}{name} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bobby}\PY{l+s+s2}{\PYZdq{}}
        
        \PY{k}{if} \PY{n}{name} \PY{o}{==} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{alice}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}
            \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Hi Alice}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{k}{elif} \PY{n}{name} \PY{o}{==} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bobby}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}
            \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Hi Bob}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{k}{elif} \PY{n}{name} \PY{o}{==} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{richard}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}
            \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Hi Ricky}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{k}{else}\PY{p}{:}
            \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Hi Stranger}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
Hi Bob

    \end{Verbatim}

\chapter{Lists}\label{lists}

Lists are a fundamental data structure in Python. As the name suggests,
we use them to store a collection of objects in a list (order matters)

We make a list using the {[} ... {]} notation.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{n}{boy\PYZus{}names} \PY{o}{=} \PY{p}{[}
            \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{benny}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{adam}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bobby}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} 
            \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{randal}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{timmy}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{cartman}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} 
            \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{morty}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{junior\PYZhy{}son}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} 
            \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{voldemort}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{boeta}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{pula}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
            \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{zane}\PY{l+s+s2}{\PYZdq{}}
        \PY{p}{]}
\end{Verbatim}

How long is this list?

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{n+nb}{len}\PY{p}{(}\PY{n}{boy\PYZus{}names}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}2}]:} 12
\end{Verbatim}
            
Is "morty" in the list?

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{morty}\PY{l+s+s2}{\PYZdq{}} \PY{o+ow}{in} \PY{n}{boy\PYZus{}names} 
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}3}]:} True
\end{Verbatim}
            
Is "xavier" in the list?

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{xavier}\PY{l+s+s2}{\PYZdq{}} \PY{o+ow}{in} \PY{n}{boy\PYZus{}names} 
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}4}]:} False
\end{Verbatim}
            
We can access the zeroth element in the list.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{n}{boy\PYZus{}names}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} 
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}5}]:} 'benny'
\end{Verbatim}
            
WARNING! Remember that we always start index from zero!

We will distinguish between the "first" and "oneth" element. "First
element of boy\_names" is ambiguous, do we mean boy\_names{[}0{]} or
boy\_names{[}1{]} ?

By "oneth" or "1-th" element of boy\_names we will always mean
boy\_names{[}1{]}.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{n}{boy\PYZus{}names}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}6}]:} 'adam'
\end{Verbatim}
            
We can access the last-th element in the list, by using the -1 index.
(This is why we index starting from zero)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{boy\PYZus{}names}\PY{p}{[}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}7}]:} 'zane'
\end{Verbatim}
            
... and can access the 2nd last-th element with the -2 index

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n}{boy\PYZus{}names}\PY{p}{[}\PY{o}{\PYZhy{}}\PY{l+m+mi}{2}\PY{p}{]}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}8}]:} 'pula'
\end{Verbatim}
            
We can replace an element

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{n}{boy\PYZus{}names}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{adriaan}\PY{l+s+s2}{\PYZdq{}}
        \PY{n}{boy\PYZus{}names}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}9}]:} ['benny',
         'adriaan',
         'bobby',
         'randal',
         'timmy',
         'cartman',
         'morty',
         'junior-son',
         'voldemort',
         'boeta',
         'pula',
         'zane']
\end{Verbatim}
            
... and remove an element

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{k}{del} \PY{n}{boy\PYZus{}names}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} 
         \PY{n}{boy\PYZus{}names}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}10}]:} ['benny',
          'bobby',
          'randal',
          'timmy',
          'cartman',
          'morty',
          'junior-son',
          'voldemort',
          'boeta',
          'pula',
          'zane']
\end{Verbatim}
            
... and append an element to the end of the list

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{n}{boy\PYZus{}names}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sabelo}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{boy\PYZus{}names}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}11}]:} ['benny',
          'bobby',
          'randal',
          'timmy',
          'cartman',
          'morty',
          'junior-son',
          'voldemort',
          'boeta',
          'pula',
          'zane',
          'sabelo']
\end{Verbatim}
            
\section{Tuples}\label{tuples}

Tuples are like lists, but they are immutable. This means it is not
possible to change tuples.

We make a tuples using the ( ... ) notation

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}54}]:} \PY{n}{boy\PYZus{}names\PYZus{}tuple} \PY{o}{=} \PY{p}{(}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{benny}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{adam}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bobby}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} 
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{randal}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{timmy}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{cartman}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} 
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{morty}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{junior\PYZhy{}son}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} 
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{voldemort}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{boeta}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{pula}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{zane}\PY{l+s+s2}{\PYZdq{}}
         \PY{p}{)}
\end{Verbatim}

How long is the tuple?

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{n+nb}{len}\PY{p}{(}\PY{n}{boy\PYZus{}names\PYZus{}tuple}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}15}]:} 12
\end{Verbatim}
            
Is "morty" in the tuple?

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{morty}\PY{l+s+s2}{\PYZdq{}} \PY{o+ow}{in} \PY{n}{boy\PYZus{}names\PYZus{}tuple} 
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}16}]:} True
\end{Verbatim}
            
We can access the last-th element

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}24}]:} \PY{n}{boy\PYZus{}names\PYZus{}tuple}\PY{p}{[}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}24}]:} 'zane'
\end{Verbatim}
            
... but we cannot change the tuple by replacing elements. Trying results
in an error.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}18}]:} \PY{c+c1}{\PYZsh{} We cannot change a tuple, so the}
         \PY{c+c1}{\PYZsh{} following gives an error}
         \PY{n}{boy\PYZus{}names\PYZus{}tuple}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{adriaan}\PY{l+s+s2}{\PYZdq{}}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]

        ---------------------------------------------------------------------------

        TypeError                                 Traceback (most recent call last)

        <ipython-input-18-af5e5e9178b2> in <module>()
          1 \# We cannot change a tuple, so the
          2 \# following gives an error
    ----> 3 boy\_names\_tuple[1] = "adriaan"
    

        TypeError: 'tuple' object does not support item assignment

    \end{Verbatim}

\section{List slicing}\label{list-slicing}

List slicing is an efficient method of cutting off parts if a list.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} \PY{n}{girl\PYZus{}names} \PY{o}{=} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{alice}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{beatrice}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{candy}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} 
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{dolly}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{elaine}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{francine}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{geraldine}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
\end{Verbatim}

We use the ":" operator to make a slice. The following slice results in
a new list containing the oneth,twoth, etc. elements:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}22}]:} \PY{n}{girl\PYZus{}names}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]} 
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}22}]:} ['beatrice', 'candy', 'dolly', 'elaine', 'francine', 'geraldine']
\end{Verbatim}
            
We can also slice from the other end. The following list contains
everything up to the twoth element, and excludes the threeth element
onwards:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}21}]:} \PY{n}{girl\PYZus{}names}\PY{p}{[}\PY{p}{:}\PY{l+m+mi}{3}\PY{p}{]} 
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}21}]:} ['alice', 'beatrice', 'candy']
\end{Verbatim}
            
We can also slice using negative indeces. The following list contains
everything but the last-th element.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}23}]:} \PY{n}{girl\PYZus{}names}\PY{p}{[}\PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}23}]:} ['alice', 'beatrice', 'candy', 'dolly', 'elaine', 'francine']
\end{Verbatim}
            
... and all but the second-last-th and last-th elements:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}25}]:} \PY{n}{girl\PYZus{}names}\PY{p}{[}\PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{2}\PY{p}{]}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}25}]:} ['alice', 'beatrice', 'candy', 'dolly', 'elaine']
\end{Verbatim}
            
The following list contains the oneth, twoth, threeth, fourth, elements
(excluding the fiveth element onward).

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}27}]:} \PY{n}{girl\PYZus{}names}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{l+m+mi}{5}\PY{p}{]} 
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}27}]:} ['beatrice', 'candy', 'dolly', 'elaine']
\end{Verbatim}
            
Slicing also works for tuples and for strings:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}28}]:} \PY{n}{name} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Marlon Brando}\PY{l+s+s2}{\PYZdq{}}
         \PY{n}{name}\PY{p}{[}\PY{o}{\PYZhy{}}\PY{l+m+mi}{4}\PY{p}{:}\PY{p}{]}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}28}]:} 'ando'
\end{Verbatim}
            
\section{List concatenation}\label{list-concatenation}

Concatenation means combining two lists end to end. We can use the
\texttt{+} operator to concatenate two or more lists.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n}{A} \PY{o}{=} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{a}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{b}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{c}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
        \PY{n}{B} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{]}
        \PY{n}{C} \PY{o}{=} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{alpha}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{beta}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{gamma}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{delta}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{n}{A}\PY{o}{+}\PY{n}{B}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}9}]:} ['a', 'b', 'c', 1, 2, 3]
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{n}{C}\PY{o}{+}\PY{n}{B}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}10}]:} ['alpha', 'beta', 'gamma', 'delta', 1, 2, 3]
\end{Verbatim}
            
\section{Sorting}\label{sorting}

We very often want to sort lists. Python includes powerful methods to
perform different kinds of sorting. We will work with the following
list:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}55}]:} \PY{n}{boy\PYZus{}names} \PY{o}{=} \PY{p}{[}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{benny}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{adam}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bobby}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} 
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{randal}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{timmy}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{cartman}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} 
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{morty}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{junior\PYZhy{}son}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} 
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{voldemort}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{boeta}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{pula}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{zane}\PY{l+s+s2}{\PYZdq{}}
         \PY{p}{]}
\end{Verbatim}

The default ordering for strings is alphabetically. We can just use the
"sorted" function:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}30}]:} \PY{n+nb}{sorted}\PY{p}{(}\PY{n}{boy\PYZus{}names}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}30}]:} ['adam',
          'benny',
          'bobby',
          'boeta',
          'cartman',
          'junior-son',
          'morty',
          'pula',
          'randal',
          'timmy',
          'voldemort',
          'zane']
\end{Verbatim}
            
We can easily sort reverse-alphabetically

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{n+nb}{sorted}\PY{p}{(}\PY{n}{boy\PYZus{}names}\PY{p}{,} \PY{n}{reverse}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}4}]:} ['zane',
         'voldemort',
         'timmy',
         'randal',
         'pula',
         'morty',
         'junior-son',
         'cartman',
         'boeta',
         'bobby',
         'benny',
         'adam']
\end{Verbatim}
            
... or by length of the strings

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{n+nb}{sorted}\PY{p}{(}\PY{n}{boy\PYZus{}names}\PY{p}{,} \PY{n}{key} \PY{o}{=} \PY{n+nb}{len}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}5}]:} ['adam',
         'pula',
         'zane',
         'benny',
         'bobby',
         'timmy',
         'morty',
         'boeta',
         'randal',
         'cartman',
         'voldemort',
         'junior-son']
\end{Verbatim}
            
We can sort with respect to any conceivable ordering. E.g. The following
sorts the list alphabetically according to the one-th letter. (See the
section on lambda expressions).

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}31}]:} \PY{n+nb}{sorted}\PY{p}{(}\PY{n}{boy\PYZus{}names}\PY{p}{,} \PY{n}{key} \PY{o}{=} \PY{k}{lambda} \PY{n}{item}\PY{p}{:} \PY{n}{item}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}31}]:} ['randal',
          'cartman',
          'zane',
          'adam',
          'benny',
          'timmy',
          'bobby',
          'morty',
          'voldemort',
          'boeta',
          'junior-son',
          'pula']
\end{Verbatim}
            
\section{Zipping}\label{zipping}

Zipping is an efficient way to combine two (or more) lists pairwise.
Consider the two lists:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}37}]:} \PY{n}{girl\PYZus{}names} \PY{o}{=} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{alice}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{beatrice}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{candy}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{dolly}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{elaine}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
         \PY{n}{their\PYZus{}ages} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{10}\PY{p}{,} \PY{l+m+mi}{11}\PY{p}{,} \PY{l+m+mi}{10}\PY{p}{,} \PY{l+m+mi}{9}\PY{p}{,} \PY{l+m+mi}{8}\PY{p}{]}
\end{Verbatim}

We can "zip" these two lists together to get a "zip" object (zip objects
are iterable objects. Their purpose is for optimizing RAM usage).

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}38}]:} \PY{n}{name\PYZus{}age\PYZus{}pairs} \PY{o}{=} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{girl\PYZus{}names}\PY{p}{,} \PY{n}{their\PYZus{}ages}\PY{p}{)}
         \PY{n}{name\PYZus{}age\PYZus{}pairs}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}38}]:} <zip at 0x7fed48073688>
\end{Verbatim}
            
The zip object can be converted to a list.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}39}]:} \PY{n+nb}{list}\PY{p}{(}\PY{n}{name\PYZus{}age\PYZus{}pairs}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}39}]:} [('alice', 10), ('beatrice', 11), ('candy', 10), ('dolly', 9), ('elaine', 8)]
\end{Verbatim}
            
Warning! When zipping lists of unequal length the result will have the
length of the shortest list:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}40}]:} \PY{n}{result} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{zip}\PY{p}{(}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{a}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{b}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{c}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{,} \PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{]}\PY{p}{)}\PY{p}{)}
         \PY{n}{result}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}40}]:} [('a', 1), ('b', 2), ('c', 3)]
\end{Verbatim}
            
We can also zip more than two lists:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}41}]:} \PY{n}{threezip} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{zip}\PY{p}{(}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{a}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{b}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{c}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{,} \PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{]}\PY{p}{,} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{alpha}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{beta}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{gamma}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}\PY{p}{)}
         \PY{n}{threezip}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}41}]:} [('a', 1, 'alpha'), ('b', 2, 'beta'), ('c', 3, 'gamma')]
\end{Verbatim}
            
\section{Unzipping}\label{unzipping}

Unzipping is the opposite of zipping. I.e., Given a list of pairs, we
can unzip the list into two lists: one list containing the first
elements of the pairs and one list containing the second elements of the
pairs.

Consider:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}43}]:} \PY{n}{name\PYZus{}age\PYZus{}pairs} \PY{o}{=} \PY{p}{[}
             \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{alice}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{10}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{beatrice}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{11}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{candy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{10}\PY{p}{)}\PY{p}{,} \PY{c+c1}{\PYZsh{}}
             \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dolly}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{9}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{elaine}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{8}\PY{p}{)}
         \PY{p}{]}
\end{Verbatim}

... which we unzip (notice the "*"):

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}44}]:} \PY{n}{unzipped\PYZus{}names}\PY{p}{,} \PY{n}{unzipped\PYZus{}ages} \PY{o}{=} \PY{n+nb}{zip}\PY{p}{(}\PY{o}{*}\PY{n}{name\PYZus{}age\PYZus{}pairs}\PY{p}{)}
\end{Verbatim}

Let's inspect the lists unzipped\_names and unzipped\_ages

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}47}]:} \PY{n}{unzipped\PYZus{}names}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}47}]:} ('alice', 'beatrice', 'candy', 'dolly', 'elaine')
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}48}]:} \PY{n}{unzipped\PYZus{}ages}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}48}]:} (10, 11, 10, 9, 8)
\end{Verbatim}
            
We can also unzip lists of triples:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}49}]:} \PY{n}{threezip} \PY{o}{=} \PY{p}{[}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{a}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{alpha}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{b}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{beta}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{c}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{gamma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{]}
         \PY{n}{abc}\PY{p}{,} \PY{n}{onetwothree}\PY{p}{,} \PY{n}{alphabetagamma} \PY{o}{=} \PY{n+nb}{zip}\PY{p}{(}\PY{o}{*}\PY{n}{threezip}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}50}]:} \PY{n}{abc}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}50}]:} ('a', 'b', 'c')
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}51}]:} \PY{n}{onetwothree}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}51}]:} (1, 2, 3)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}52}]:} \PY{n}{alphabetagamma}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}52}]:} ('alpha', 'beta', 'gamma')
\end{Verbatim}
            
\section{Application: Combining zip and list slicing to form adjacent
pairs}\label{application-combining-zip-and-list-slicing-to-form-adjacent-pairs}

Say we have a list L={[}1,2,3,4,5,6,7,8,9{]} and we want to construct a
new list of all adjacent pairs from L :
{[}(1,2),(2,3),(3,4),(5,6),(6,7),(7,8),(9,8){]}.

An elegant way of constucting this list is to use a zip with a list
slice:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{n}{L} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{,}\PY{l+m+mi}{9}\PY{p}{]}
        \PY{n}{pairs} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{zip}\PY{p}{(}\PY{n}{L}\PY{p}{,}\PY{n}{L}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{n}{pairs}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}2}]:} [(1, 2), (2, 3), (3, 4), (4, 5), (5, 6), (6, 7), (7, 8), (8, 9)]
\end{Verbatim}
            
Do make sure you understand how the list slice and zip works together
here.

\chapter{Loops}\label{loops}

Loops are used to perform a single operation over and over.

\section{For-loops}\label{for-loops}

The for-loop is the most used kind of loop. One can think of their
operation as follows: "For every element in ...(container), do
...(action) ".

The "range" functon is a useful container to loop over. The following
example prints every number in the range 0,2,3,...,9:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{:} 
            \PY{n+nb}{print}\PY{p}{(}\PY{n}{i}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
0
1
2
3
4
5
6
7
8
9

    \end{Verbatim}

... do the same, but loop over 4,5,...,9

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{4}\PY{p}{,} \PY{l+m+mi}{10}\PY{p}{)}\PY{p}{:} 
            \PY{n+nb}{print}\PY{p}{(}\PY{n}{i}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
4
5
6
7
8
9

    \end{Verbatim}

We are not limited to loop over "ranges", we can loop over any
container. This is the preferred way to loop over a list in Python:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{n}{girl\PYZus{}names} \PY{o}{=} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{alice}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{beatrice}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{candy}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} 
            \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{dolly}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{elaine}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{francine}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{geraldine}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
        
        \PY{k}{for} \PY{n}{name} \PY{o+ow}{in} \PY{n}{girl\PYZus{}names}\PY{p}{:}
            \PY{n+nb}{print}\PY{p}{(}\PY{n}{name}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
alice
beatrice
candy
dolly
elaine
francine
geraldine

    \end{Verbatim}

We can loop in reverse order by just applying the "reversed" function to
our list:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{k}{for} \PY{n}{name} \PY{o+ow}{in} \PY{n+nb}{reversed}\PY{p}{(}\PY{n}{girl\PYZus{}names}\PY{p}{)}\PY{p}{:}
            \PY{n+nb}{print}\PY{p}{(}\PY{n}{name}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
geraldine
francine
elaine
dolly
candy
beatrice
alice

    \end{Verbatim}

Often one want's to keep a running index. This is easily done with the
"enumerate" function.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{k}{for} \PY{n}{index}\PY{p}{,} \PY{n}{name} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{girl\PYZus{}names}\PY{p}{)}\PY{p}{:}   \PY{c+c1}{\PYZsh{}\PYZlt{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}(notice the unpacking)}
            \PY{n+nb}{print}\PY{p}{(}\PY{n}{index}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ \PYZhy{}\PYZgt{} }\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{name}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
0  ->  alice
1  ->  beatrice
2  ->  candy
3  ->  dolly
4  ->  elaine
5  ->  francine
6  ->  geraldine

    \end{Verbatim}

We can also loop directly over zip objects using unpacking

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{n}{girl\PYZus{}names} \PY{o}{=} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{alice}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{beatrice}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{candy}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} 
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{dolly}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{elaine}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{francine}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{geraldine}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
         \PY{n}{their\PYZus{}ages} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{11}\PY{p}{,}\PY{l+m+mi}{31}\PY{p}{]}
         
         \PY{k}{for} \PY{n}{name}\PY{p}{,} \PY{n}{age} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{girl\PYZus{}names}\PY{p}{,} \PY{n}{their\PYZus{}ages}\PY{p}{)}\PY{p}{:}
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{name : }\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{name} \PY{p}{)}
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{   age  : }\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{age}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
name :  alice
   age  :  3
name :  beatrice
   age  :  3
name :  candy
   age  :  7
name :  dolly
   age  :  10
name :  elaine
   age  :  15
name :  francine
   age  :  11
name :  geraldine
   age  :  31

    \end{Verbatim}

\section{While loops}\label{while-loops}

While loops are useful when we do not know before hand how many times a
loop should execute. One can think of their operation as follows: "While
... (condition) is True, do ...(action)".

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{number} \PY{o}{=} \PY{l+m+mi}{144}
        \PY{k}{while} \PY{n}{number} \PY{o}{\PYZpc{}} \PY{l+m+mi}{2} \PY{o}{==} \PY{l+m+mi}{0} \PY{p}{:}   \PY{c+c1}{\PYZsh{} while number is divisible by 2,  ...}
            \PY{n}{number} \PY{o}{=} \PY{n}{number} \PY{o}{/}\PY{o}{/} \PY{l+m+mi}{2}  \PY{c+c1}{\PYZsh{} divide it by two}
        
        \PY{n+nb}{print}\PY{p}{(}\PY{n}{number}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
9

    \end{Verbatim}

\section{You should loop like a Pythonista not a
C-snake.}\label{you-should-loop-like-a-pythonista-not-a-c-snake.}

Python is not like classic languages e.g., C. We should not use standard
C-idioms in Python. Doing so will result in ugly, unreadable and un
maintainable code.

DO NOT DO ANY OF THE FOLLOWING THINGS IN PYTHON. Compare the following
bad looping idioms with the proper Pythonic looping idioms above.

Consider the lists

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{n}{girl\PYZus{}names} \PY{o}{=} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{alice}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{beatrice}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{candy}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} 
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{dolly}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{elaine}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{francine}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{geraldine}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
         \PY{n}{their\PYZus{}ages} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{11}\PY{p}{,}\PY{l+m+mi}{31}\PY{p}{]}
\end{Verbatim}

DO NOT Loop over a range object unecessarily:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{girl\PYZus{}names}\PY{p}{)}\PY{p}{)}\PY{p}{:}
            \PY{n+nb}{print}\PY{p}{(}\PY{n}{girl\PYZus{}names}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}    
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
alice
beatrice
candy
dolly
elaine
francine
geraldine

    \end{Verbatim}

DO NOT loop in reverse order by accessing indeces:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{girl\PYZus{}names}\PY{p}{)}\PY{p}{)}\PY{p}{:}
             \PY{n+nb}{print}\PY{p}{(}\PY{n}{girl\PYZus{}names}\PY{p}{[}\PY{n+nb}{len}\PY{p}{(}\PY{n}{girl\PYZus{}names}\PY{p}{)} \PY{o}{\PYZhy{}} \PY{n}{i} \PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}    
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
geraldine
francine
elaine
dolly
candy
beatrice
alice

    \end{Verbatim}

DO NOT keep a running index manually:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{n}{index} \PY{o}{=} \PY{l+m+mi}{0}
         \PY{k}{for} \PY{n}{name} \PY{o+ow}{in} \PY{n}{girl\PYZus{}names}\PY{p}{:}
             \PY{n+nb}{print}\PY{p}{(}\PY{n}{index}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ \PYZhy{}\PYZgt{} }\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{name}\PY{p}{)}
             \PY{n}{index} \PY{o}{=} \PY{n}{index} \PY{o}{+}\PY{l+m+mi}{1}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
0  ->  alice
1  ->  beatrice
2  ->  candy
3  ->  dolly
4  ->  elaine
5  ->  francine
6  ->  geraldine

    \end{Verbatim}

DO NOT loop over two lists using indeces:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n+nb}{min}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{girl\PYZus{}names}\PY{p}{)}\PY{p}{,} \PY{n+nb}{len}\PY{p}{(}\PY{n}{their\PYZus{}ages}\PY{p}{)}\PY{p}{)}\PY{p}{)}\PY{p}{:}
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{name : }\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{girl\PYZus{}names}\PY{p}{[}\PY{n}{i}\PY{p}{]} \PY{p}{)}
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{   age  : }\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{their\PYZus{}ages}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}        
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
name :  alice
   age  :  3
name :  beatrice
   age  :  3
name :  candy
   age  :  7
name :  dolly
   age  :  10
name :  elaine
   age  :  15
name :  francine
   age  :  11
name :  geraldine
   age  :  31

    \end{Verbatim}

\chapter{List comprehensions}\label{list-comprehensions}

List comprehensions are a concise way of constructing lists using a
for-loop syntax.

Consider the list:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{n}{girl\PYZus{}names} \PY{o}{=} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{alice}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{beatrice}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{candy}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} 
            \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{dolly}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{elaine}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{francine}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{geraldine}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
\end{Verbatim}

We can use a list comprehension to make a new list containing the zeroth
letter of each name in the list:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{n}{first\PYZus{}letters} \PY{o}{=} \PY{p}{[}\PY{n}{name}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{k}{for} \PY{n}{name} \PY{o+ow}{in} \PY{n}{girl\PYZus{}names}\PY{p}{]}
        \PY{n}{first\PYZus{}letters}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}2}]:} ['a', 'b', 'c', 'd', 'e', 'f', 'g']
\end{Verbatim}
            
... or a list with the length of every name:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{n}{length\PYZus{}of\PYZus{}names} \PY{o}{=} \PY{p}{[}\PY{n+nb}{len}\PY{p}{(}\PY{n}{name}\PY{p}{)} \PY{k}{for} \PY{n}{name} \PY{o+ow}{in} \PY{n}{girl\PYZus{}names}\PY{p}{]}
        \PY{n}{length\PYZus{}of\PYZus{}names}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}2}]:} [5, 8, 5, 5, 6, 8, 9]
\end{Verbatim}
            
... or a list of name-length-pairs

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{n}{names\PYZus{}length\PYZus{}pairs} \PY{o}{=} \PY{p}{[} \PY{p}{(} \PY{n}{name}\PY{p}{,} \PY{n+nb}{len}\PY{p}{(}\PY{n}{name}\PY{p}{)} \PY{p}{)} \PY{k}{for} \PY{n}{name} \PY{o+ow}{in} \PY{n}{girl\PYZus{}names}\PY{p}{]}
        \PY{n}{names\PYZus{}length\PYZus{}pairs}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}3}]:} [('alice', 5),
         ('beatrice', 8),
         ('candy', 5),
         ('dolly', 5),
         ('elaine', 6),
         ('francine', 8),
         ('geraldine', 9)]
\end{Verbatim}
            
A useful feature is adding a conditional. The following makes a new list
only containing the "long" names:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{n}{only\PYZus{}long\PYZus{}names} \PY{o}{=} \PY{p}{[} \PY{n}{name} \PY{k}{for} \PY{n}{name} \PY{o+ow}{in} \PY{n}{girl\PYZus{}names} \PY{k}{if} \PY{n+nb}{len}\PY{p}{(}\PY{n}{name}\PY{p}{)} \PY{o}{\PYZgt{}} \PY{l+m+mi}{6} \PY{p}{]}
        \PY{n}{only\PYZus{}long\PYZus{}names}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}4}]:} ['beatrice', 'francine', 'geraldine']
\end{Verbatim}
            
\chapter{Functions}\label{functions}

Functions allow for the easy reuse of bits of code. They take
parameters/input, and can \textbf{return} a result.

\section{Defining a function. Example: Say
hello}\label{defining-a-function.-example-say-hello}

Functions are defined using the \textbf{def} keyword. We define a
function that takes \emph{name} as parameter, and \emph{returns} a
greeting for that name:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{k}{def} \PY{n+nf}{say\PYZus{}hello\PYZus{}to}\PY{p}{(}\PY{n}{name}\PY{p}{)}\PY{p}{:}
            \PY{k}{return} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Hello }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n}{name} \PY{o}{+} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{!}\PY{l+s+s2}{\PYZdq{}}
\end{Verbatim}

\section{Calling a function}\label{calling-a-function}

We can now \emph{call} this function with different inputs. Make sure
you understand the output of the function \texttt{say\_hello\_to},
defined above, given its definition and the values of the parameters
passed to it.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{n}{say\PYZus{}hello\PYZus{}to}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{World}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}2}]:} 'Hello World!'
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{n}{say\PYZus{}hello\PYZus{}to}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Gary}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}3}]:} 'Hello Gary!'
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{n}{say\PYZus{}hello\PYZus{}to}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Alice}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}4}]:} 'Hello Alice!'
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{n}{say\PYZus{}hello\PYZus{}to}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Crocubot}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}5}]:} 'Hello Crocubot!'
\end{Verbatim}
            
\section{Functions calling functions}\label{functions-calling-functions}

Functions can also call other functions. Make sure you understand what
the function \texttt{demo}, defined below, returns when we call it. Also
make sure you understand the text printed to the screen, including the
order in which the messages are printed. Notice that the string
\texttt{"this\ is\ never\ printed!"} is \emph{not} printed to the
screen, because once a function calls \texttt{return}, it immediately
stops and hands back control the function that called it.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}21}]:} \PY{k}{def} \PY{n+nf}{times\PYZus{}two}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{:}
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{doubling}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
             \PY{k}{return} \PY{l+m+mi}{2}\PY{o}{*}\PY{n}{n}
         
         \PY{k}{def} \PY{n+nf}{times\PYZus{}three}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{:}
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{input to times\PYZus{}three is }\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{n}\PY{p}{)}
             \PY{k}{return} \PY{l+m+mi}{3}\PY{o}{*}\PY{n}{n}
         
         \PY{k}{def} \PY{n+nf}{times\PYZus{}four}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{:}
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{calling times\PYZus{}four}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
             \PY{k}{return} \PY{l+m+mi}{4}\PY{o}{*}\PY{n}{n}
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{this is never printed!}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{k}{def} \PY{n+nf}{demo}\PY{p}{(}\PY{p}{)}\PY{p}{:}
             \PY{n}{c} \PY{o}{=} \PY{n}{times\PYZus{}three}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{)}   \PY{c+c1}{\PYZsh{} 3*3 == 9}
             \PY{n}{b} \PY{o}{=} \PY{n}{times\PYZus{}four}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{)}    \PY{c+c1}{\PYZsh{} 4*2 == 8}
             \PY{n}{a} \PY{o}{=} \PY{n}{times\PYZus{}two}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{)}     \PY{c+c1}{\PYZsh{} 2*5 == 10}
             \PY{k}{return} \PY{n}{a} \PY{o}{+} \PY{n}{b} \PY{o}{+} \PY{n}{c}     \PY{c+c1}{\PYZsh{} 10 + 8 + 9 == 27}
             
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}20}]:} \PY{n}{demo}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
input to times\_three is  3
calling times\_four
doubling

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}20}]:} 27
\end{Verbatim}
            
\section{Example: Divisible by 11}\label{example-divisible-by-11}

We define a function that takes \emph{number} as input and
\emph{returns} whether or not the number is divisible by 11

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{k}{def} \PY{n+nf}{is\PYZus{}divisible\PYZus{}by\PYZus{}11}\PY{p}{(}\PY{n}{number}\PY{p}{)}\PY{p}{:}
            \PY{k}{return} \PY{n}{number} \PY{o}{\PYZpc{}} \PY{l+m+mi}{11} \PY{o}{==} \PY{l+m+mi}{0}
\end{Verbatim}

Lets check which numbers of 10,11,12,...,24 are divisible by 11

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{k}{for} \PY{n}{number} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,} \PY{l+m+mi}{25}\PY{p}{)}\PY{p}{:}
            \PY{n+nb}{print}\PY{p}{(}\PY{n}{number}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{is divisible by 11 : }\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{is\PYZus{}divisible\PYZus{}by\PYZus{}11}\PY{p}{(}\PY{n}{number}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
10 is divisible by 11 :  False
11 is divisible by 11 :  True
12 is divisible by 11 :  False
13 is divisible by 11 :  False
14 is divisible by 11 :  False
15 is divisible by 11 :  False
16 is divisible by 11 :  False
17 is divisible by 11 :  False
18 is divisible by 11 :  False
19 is divisible by 11 :  False
20 is divisible by 11 :  False
21 is divisible by 11 :  False
22 is divisible by 11 :  True
23 is divisible by 11 :  False
24 is divisible by 11 :  False

    \end{Verbatim}

\section{Example: Checking primality}\label{example-checking-primality}

We define a function that checks whether or not a number is prime, named
\texttt{is\_prime}

\begin{verbatim}
Name: is_prime

Input: 
  A natural number n.
    
Output: 
   True if n is a prime number.
   False if n is not a prime number.
   


\end{verbatim}

It is very important to understand the definition of the term
\emph{prime number} before starting! How do we know whether or not a
number is prime or not? We need to check whether it has any divisors
other than 1 and itself.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{k}{def} \PY{n+nf}{is\PYZus{}prime}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{:}
            \PY{k}{if} \PY{n}{n} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{l+m+mi}{1}\PY{p}{:}                \PY{c+c1}{\PYZsh{} No number less than or equal to one is prime.}
                \PY{k}{return} \PY{k+kc}{False}
            
            \PY{k}{else}\PY{p}{:}
                \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,}\PY{n}{n}\PY{p}{)}\PY{p}{:}  \PY{c+c1}{\PYZsh{} for all the numbers i in \PYZob{}2,...,n\PYZhy{}1\PYZcb{},}
                    \PY{k}{if} \PY{n}{n} \PY{o}{\PYZpc{}} \PY{n}{i} \PY{o}{==} \PY{l+m+mi}{0}\PY{p}{:}    \PY{c+c1}{\PYZsh{} if the remainder when dividing n by i is zero, ...}
                        \PY{k}{return} \PY{k+kc}{False}  \PY{c+c1}{\PYZsh{} ... then we know that i is a divisor of n, so n is not prime. }
                    
                
                \PY{k}{return} \PY{k+kc}{True}           \PY{c+c1}{\PYZsh{} If we did not find any divisor, then we know n is prime.}
                     
            
            
\end{Verbatim}

We check a few known cases:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{n}{non\PYZus{}primes} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{4}\PY{p}{,} \PY{l+m+mi}{6}\PY{p}{,} \PY{l+m+mi}{8}\PY{p}{,} \PY{l+m+mi}{25}\PY{p}{,} \PY{l+m+mi}{100}\PY{p}{,} \PY{l+m+mi}{81}\PY{p}{,} \PY{l+m+mi}{1000}\PY{p}{,} \PY{l+m+mi}{49}\PY{p}{]}
        \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{non\PYZus{}primes}\PY{p}{:}
            \PY{n+nb}{print}\PY{p}{(}\PY{n+nb}{str}\PY{p}{(}\PY{n}{i}\PY{p}{)} \PY{o}{+} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ is prime? :}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{is\PYZus{}prime}\PY{p}{(}\PY{n}{i}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
4 is prime? : False
6 is prime? : False
8 is prime? : False
25 is prime? : False
100 is prime? : False
81 is prime? : False
1000 is prime? : False
49 is prime? : False

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{n}{primes} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{5}\PY{p}{,} \PY{l+m+mi}{7}\PY{p}{,} \PY{l+m+mi}{11}\PY{p}{,} \PY{l+m+mi}{13}\PY{p}{,} \PY{l+m+mi}{59}\PY{p}{,} \PY{l+m+mi}{101}\PY{p}{,} \PY{l+m+mi}{103}\PY{p}{,} \PY{l+m+mi}{109}\PY{p}{]}
         \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{primes}\PY{p}{:}
             \PY{n+nb}{print}\PY{p}{(}\PY{n+nb}{str}\PY{p}{(}\PY{n}{i}\PY{p}{)} \PY{o}{+} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ is prime? :}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{is\PYZus{}prime}\PY{p}{(}\PY{n}{i}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
2 is prime? : True
5 is prime? : True
7 is prime? : True
11 is prime? : True
13 is prime? : True
59 is prime? : True
101 is prime? : True
103 is prime? : True
109 is prime? : True

    \end{Verbatim}

\subsection{\texorpdfstring{Example: Combining \texttt{is\_prime} with a
list
comprehension}{Example: Combining is\_prime with a list comprehension}}\label{example-combining-is_prime-with-a-list-comprehension}

We can now easily construct a list of prime numbers from 900 to 1000
using a conditional list comprehension.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{n}{primes\PYZus{}from\PYZus{}900\PYZus{}to\PYZus{}1000} \PY{o}{=} \PY{p}{[}\PY{n}{n} \PY{k}{for} \PY{n}{n} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{900}\PY{p}{,} \PY{l+m+mi}{1001}\PY{p}{)} \PY{k}{if} \PY{n}{is\PYZus{}prime}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{]}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{n}{primes\PYZus{}from\PYZus{}900\PYZus{}to\PYZus{}1000}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}12}]:} [907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997]
\end{Verbatim}
            
\section{Example: The Collatz
function}\label{example-the-collatz-function}

Example: We define the \emph{collatz} function according to the
following specification.

\begin{verbatim}
Name: collatz

Input:
    A natural number n

Output:
    If n == 1, then return 1.
    If n is even, then return n divided by 2.
    If n is odd, then return 3n+1.
\end{verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{k}{def} \PY{n+nf}{collatz}\PY{p}{(}\PY{n}{number}\PY{p}{)}\PY{p}{:}
             \PY{k}{if} \PY{n}{number}  \PY{o}{==} \PY{l+m+mi}{1}\PY{p}{:}
                 \PY{k}{return} \PY{n}{number}
             \PY{k}{elif} \PY{n}{number} \PY{o}{\PYZpc{}} \PY{l+m+mi}{2} \PY{o}{==} \PY{l+m+mi}{0}\PY{p}{:} 
                 \PY{k}{return} \PY{n}{number} \PY{o}{/}\PY{o}{/} \PY{l+m+mi}{2}
             \PY{k}{else}\PY{p}{:}
                 \PY{k}{return} \PY{l+m+mi}{3}\PY{o}{*}\PY{n}{number} \PY{o}{+} \PY{l+m+mi}{1}
             
\end{Verbatim}

Let's try it out on 3,11,24 and 65

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}24}]:} \PY{k}{for} \PY{n}{n} \PY{o+ow}{in} \PY{p}{[}\PY{l+m+mi}{3}\PY{p}{,} \PY{l+m+mi}{11}\PY{p}{,} \PY{l+m+mi}{24}\PY{p}{,} \PY{l+m+mi}{65}\PY{p}{]}\PY{p}{:}
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{collatz(}\PY{l+s+s2}{\PYZdq{}}\PY{o}{+}\PY{n+nb}{str}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{o}{+}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{)}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ = }\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{collatz}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
collatz(3)  =  10
collatz(11)  =  34
collatz(24)  =  12
collatz(65)  =  196

    \end{Verbatim}

Let's repeatedly apply the collatz function to a number using a while
loop. We always tend to get back to 1... why is that?

See https://en.wikipedia.org/wiki/Collatz\_conjecture

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{n}{current\PYZus{}number} \PY{o}{=} \PY{l+m+mi}{15}
         \PY{k}{while} \PY{n}{current\PYZus{}number} \PY{o}{!=} \PY{l+m+mi}{1}\PY{p}{:}    
             \PY{n}{current\PYZus{}number} \PY{o}{=} \PY{n}{collatz}\PY{p}{(}\PY{n}{current\PYZus{}number}\PY{p}{)}
             \PY{n+nb}{print}\PY{p}{(}\PY{n}{current\PYZus{}number}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
46
23
70
35
106
53
160
80
40
20
10
5
16
8
4
2
1

    \end{Verbatim}

\section{Making functions with lambda
expressions}\label{making-functions-with-lambda-expressions}

Very simple functions can be defined using \emph{lambda} expressions.
We've already briefly encountered lambda expressions in the section on
sorting.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{n}{f} \PY{o}{=} \PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{l+m+mi}{3}\PY{o}{*}\PY{n}{x}
\end{Verbatim}

Make sure you understand why f(4)=12

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}17}]:} \PY{n}{f}\PY{p}{(}\PY{l+m+mi}{4}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}17}]:} 12
\end{Verbatim}
            
...and f('a')='aaa'

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}18}]:} \PY{n}{f}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{a}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}18}]:} 'aaa'
\end{Verbatim}
            
\section{docstrings}\label{docstrings}

One's code is usually used by other people. These people might need to
know what a function you wrote does. One may do this by writing a short
explanation in a \emph{docstring} in the first line of the function
definition. This can be accessed by calling the help function on an
object.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} \PY{k}{def} \PY{n+nf}{fibonacci\PYZus{}undocumented}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{:}
             \PY{k}{if} \PY{n}{n} \PY{o}{==} \PY{l+m+mi}{1}\PY{p}{:}
                 \PY{k}{return} \PY{l+m+mi}{1}
             \PY{k}{elif} \PY{n}{n} \PY{o}{==} \PY{l+m+mi}{2}\PY{p}{:}
                 \PY{k}{return} \PY{l+m+mi}{1}
             \PY{k}{else}\PY{p}{:}
                 \PY{k}{return} \PY{n}{fibonacci}\PY{p}{(}\PY{n}{n}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{)} \PY{o}{+} \PY{n}{fibonacci}\PY{p}{(}\PY{n}{n}\PY{o}{\PYZhy{}}\PY{l+m+mi}{2}\PY{p}{)}
\end{Verbatim}

No help is forthcoming...

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}20}]:} \PY{n}{help}\PY{p}{(}\PY{n}{fibonacci\PYZus{}undocumented}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
Help on function fibonacci\_undocumented in module \_\_main\_\_:

fibonacci\_undocumented(n)


    \end{Verbatim}

... unless we give it:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}21}]:} \PY{k}{def} \PY{n+nf}{fibonacci}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{:}
             \PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}}
         \PY{l+s+sd}{    Returns the nth fibonacci number. }
         \PY{l+s+sd}{    }
         \PY{l+s+sd}{    Input: n}
         \PY{l+s+sd}{    Output: the nth fibonacci number}
         \PY{l+s+sd}{    }
         \PY{l+s+sd}{    E.g.fibonacci(1) = 1}
         \PY{l+s+sd}{        fibonacci(2) = 1}
         \PY{l+s+sd}{        fibonacci(3) = 2}
         \PY{l+s+sd}{        ...}
         \PY{l+s+sd}{    \PYZdq{}\PYZdq{}\PYZdq{}}
             \PY{k}{if} \PY{n}{n} \PY{o}{==} \PY{l+m+mi}{1}\PY{p}{:}
                 \PY{k}{return} \PY{l+m+mi}{1}
             \PY{k}{elif} \PY{n}{n} \PY{o}{==} \PY{l+m+mi}{2}\PY{p}{:}
                 \PY{k}{return} \PY{l+m+mi}{1}
             \PY{k}{else}\PY{p}{:}
                 \PY{k}{return} \PY{n}{fibonacci}\PY{p}{(}\PY{n}{n}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{)} \PY{o}{+} \PY{n}{fibonacci}\PY{p}{(}\PY{n}{n}\PY{o}{\PYZhy{}}\PY{l+m+mi}{2}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}22}]:} \PY{n}{help}\PY{p}{(}\PY{n}{fibonacci}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
Help on function fibonacci in module \_\_main\_\_:

fibonacci(n)
    Returns the nth fibonacci number. 
    
    Input: n
    Output: the nth fibonacci number
    
    E.g.fibonacci(1) = 1
        fibonacci(2) = 1
        fibonacci(3) = 2
        {\ldots}


    \end{Verbatim}

\chapter{Recursion}\label{recursion}

Recursion is what happens when a functon \textbf{calls itself}.

\section{Example: Countdown}\label{example-countdown}

We will define a recursive function that prints a countdown to an event
to the screen.

Make sure you understand the messages printed to the screen. Pay
attention how the following function calls itself:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{k}{def} \PY{n+nf}{countdown}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{:}
             \PY{k}{if} \PY{n}{n} \PY{o}{==} \PY{l+m+mi}{0}\PY{p}{:}
                 \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Liftoff!}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
             \PY{k}{else}\PY{p}{:}
                 \PY{n+nb}{print}\PY{p}{(}\PY{n}{n}\PY{p}{)}
                 \PY{n}{countdown}\PY{p}{(}\PY{n}{n}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{)}  \PY{c+c1}{\PYZsh{} \PYZlt{}\PYZhy{}\PYZhy{}\PYZhy{} Notice the recursion here}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}17}]:} \PY{n}{countdown}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
10
9
8
7
6
5
4
3
2
1
Liftoff!

    \end{Verbatim}

In the definition of a recursive function there is usually one or more
simple \textbf{base cases} of what the function should do with the most
simple inputs. In \texttt{countdown} above, when the input to our
function is zero, it prints 'Liftoff!'.

\begin{verbatim}
    if n == 0:
        print("Liftoff!")
\end{verbatim}

Otherwise, if the input is more complicated (a number larger than zero),
our function prints the input to the screen and the function calls
itself, but with input that is a 'little simpler', one less than the
input.

\begin{verbatim}
    else:
        print(n)
        countdown(n-1)
\end{verbatim}

\section{Example: Fibonacci numbers
(recursive)}\label{example-fibonacci-numbers-recursive}

A good example of recursion is the process of generating Fibonacci
numbers \(1,1,2,3,5,8,13,21,34,55,\ldots\). These are formally defined
as the sequence \((f_n)\) with \(f_0:=1\), \(f_1:=1\) and
\(f_n:=f_{n-1}+f_{n-2}\) for all \(n\in \{2,3,4,5\ldots\}\)

We define a function \texttt{fibonacci\_recursive} that in input \(n\),
computes and returns the value of \(f_n\).

Pay attention how the following function calls itself:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k}{def} \PY{n+nf}{fibonacci\PYZus{}recursive}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{:}
            \PY{k}{if} \PY{n}{n} \PY{o}{==} \PY{l+m+mi}{0}\PY{p}{:}
                \PY{k}{return} \PY{l+m+mi}{1}
            \PY{k}{elif} \PY{n}{n} \PY{o}{==} \PY{l+m+mi}{1}\PY{p}{:}
                \PY{k}{return} \PY{l+m+mi}{1}
            \PY{k}{else}\PY{p}{:}
                \PY{k}{return} \PY{n}{fibonacci\PYZus{}recursive}\PY{p}{(}\PY{n}{n}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{)} \PY{o}{+} \PY{n}{fibonacci\PYZus{}recursive}\PY{p}{(}\PY{n}{n}\PY{o}{\PYZhy{}}\PY{l+m+mi}{2}\PY{p}{)} \PY{c+c1}{\PYZsh{}\PYZlt{}\PYZhy{}\PYZhy{}\PYZhy{} Notice! }
        
            
\end{Verbatim}

Let's compute all the fibonacci numbers up to \(f_{19}\)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{20}\PY{p}{)}\PY{p}{:}
            \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{f\PYZus{}}\PY{l+s+s2}{\PYZdq{}}\PY{o}{+}\PY{n+nb}{str}\PY{p}{(}\PY{n}{i}\PY{p}{)}\PY{o}{+}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ =}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{fibonacci\PYZus{}recursive}\PY{p}{(}\PY{n}{i}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
f\_0 = 1
f\_1 = 1
f\_2 = 2
f\_3 = 3
f\_4 = 5
f\_5 = 8
f\_6 = 13
f\_7 = 21
f\_8 = 34
f\_9 = 55
f\_10 = 89
f\_11 = 144
f\_12 = 233
f\_13 = 377
f\_14 = 610
f\_15 = 987
f\_16 = 1597
f\_17 = 2584
f\_18 = 4181
f\_19 = 6765

    \end{Verbatim}

\section{Example: Fibonacci numbers
(non-recursive)}\label{example-fibonacci-numbers-non-recursive}

For the purposes of illustration we implement the same specification,
but non-recursively. We will call this function
\texttt{fibonacci\_non\_recursive}, and will do this by constructing a
list of fibonacci numbers instead of calling the function itself.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{k}{def} \PY{n+nf}{fibonacci\PYZus{}non\PYZus{}recursive}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{:}
             \PY{n}{fib\PYZus{}numbers} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]}       
             \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,} \PY{n}{n}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:}
                 \PY{n}{fib\PYZus{}numbers}\PY{o}{.}\PY{n}{append}\PY{p}{(} \PY{n}{fib\PYZus{}numbers}\PY{p}{[}\PY{n}{i} \PY{o}{\PYZhy{}} \PY{l+m+mi}{1}\PY{p}{]} \PY{o}{+} \PY{n}{fib\PYZus{}numbers}\PY{p}{[}\PY{n}{i} \PY{o}{\PYZhy{}} \PY{l+m+mi}{2}\PY{p}{]} \PY{p}{)}
             
             \PY{k}{return} \PY{n}{fib\PYZus{}numbers}\PY{p}{[}\PY{n}{n}\PY{p}{]}
\end{Verbatim}

Let's compute all the fibonacci numbers up to \(f_{19}\)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{20}\PY{p}{)}\PY{p}{:}
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{f\PYZus{}}\PY{l+s+s2}{\PYZdq{}}\PY{o}{+}\PY{n+nb}{str}\PY{p}{(}\PY{n}{i}\PY{p}{)}\PY{o}{+}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ =}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{fibonacci\PYZus{}non\PYZus{}recursive}\PY{p}{(}\PY{n}{i}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
f\_0 = 1
f\_1 = 1
f\_2 = 2
f\_3 = 3
f\_4 = 5
f\_5 = 8
f\_6 = 13
f\_7 = 21
f\_8 = 34
f\_9 = 55
f\_10 = 89
f\_11 = 144
f\_12 = 233
f\_13 = 377
f\_14 = 610
f\_15 = 987
f\_16 = 1597
f\_17 = 2584
f\_18 = 4181
f\_19 = 6765

    \end{Verbatim}

\section{Analysis: Recursive vs Non-recursive Fibonacci
numbers}\label{analysis-recursive-vs-non-recursive-fibonacci-numbers}

Let us try computing some large fibonacci numbers.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{n}{fibonacci\PYZus{}non\PYZus{}recursive}\PY{p}{(}\PY{l+m+mi}{37}\PY{p}{)}  \PY{c+c1}{\PYZsh{} instant}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}5}]:} 39088169
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{n}{fibonacci\PYZus{}recursive}\PY{p}{(}\PY{l+m+mi}{37}\PY{p}{)}  \PY{c+c1}{\PYZsh{} takes a few seconds}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}6}]:} 39088169
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{fibonacci\PYZus{}non\PYZus{}recursive}\PY{p}{(}\PY{l+m+mi}{1000}\PY{p}{)}  \PY{c+c1}{\PYZsh{} instant}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}7}]:} 70330367711422815821835254877183549770181269836358732742604905087154537118196933579742249494562611733487750449241765991088186363265450223647106012053374121273867339111198139373125598767690091902245245323403501
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n}{fibonacci\PYZus{}recursive}\PY{p}{(}\PY{l+m+mi}{1000}\PY{p}{)}   \PY{c+c1}{\PYZsh{} Fails!}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]

        ---------------------------------------------------------------------------

        RecursionError                            Traceback (most recent call last)

        <ipython-input-8-fe914d1729d7> in <module>()
    ----> 1 fibonacci\_recursive(1000)   \# Fails!
    

        <ipython-input-1-fe726392d6db> in fibonacci\_recursive(n)
          6         return 1
          7     else:
    ----> 8         return fibonacci\_recursive(n-1) + fibonacci\_recursive(n-2) \#<--- Notice!
          9 
         10 


        {\ldots} last 1 frames repeated, from the frame below {\ldots}


        <ipython-input-1-fe726392d6db> in fibonacci\_recursive(n)
          6         return 1
          7     else:
    ----> 8         return fibonacci\_recursive(n-1) + fibonacci\_recursive(n-2) \#<--- Notice!
          9 
         10 


        RecursionError: maximum recursion depth exceeded in comparison

    \end{Verbatim}

\begin{verbatim}





--------------------------------------------------




--
\end{verbatim}

Calling our recursive implementation with input 1000 fails. Why?
Consider the number of calls to \texttt{fibonacci\_recursive} when we
call \texttt{fibonacci\_recursive(1000)}: Every call to
\texttt{fibonacci\_recursive} calls \texttt{fibonacci\_recursive} two
more times. See the digram below:

\begin{verbatim}



fibonacci_recursive(1000) --- fibonacci_recursive(999) --- fibonacci_recursive(998)...
                      \                         \
                       \                         \  
                        \                         fibonacci_recursive(997)...
                         \
                         fibonacci_recursive(998) --- fibonacci_recursive(997)...
                                            \
                                             \
                                             fibonacci_recursive(996)...



\end{verbatim}

Therefore \texttt{fibonacci\_recursive(1000)} will make (roughly)
\(2^{1000}\) calls to the function \texttt{fibonacci\_recursive} and
\(2^{1000}\) is quite a large number:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{l+m+mi}{2}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{1000}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}9}]:} 10715086071862673209484250490600018105614048117055336074437503883703510511249361224931983788156958581275946729175531468251871452856923140435984577574698574803934567774824230985421074605062371141877954182153046474983581941267398767559165543946077062914571196477686542167660429831652624386837205668069376
\end{Verbatim}
            
Compare this to \texttt{fibonacci\_non\_recursive(1000).} Starting from
a list with length two, to construct the next fibonacci number we add
the last two numbers in the list and append it to the list. In the end
the list will have 1001 elements, so our function only does
\(1001-2 = 999\) additions. Compared to \(2^{1000}\) function calls in
the recursive case, 999 additions is far fewer operations to perform.

\textbf{Important!} Recursion is not inherently slow! Our choice to use
recursion in this particular case is the problem. There are cases where
recursion is the correct choice and results in efficient and elegant
algorithms (see quicksort and bubblesort below).

\section{Example: Quicksort
(recursive)}\label{example-quicksort-recursive}

As another example of recursion we implement the quicksort algorithm
(https://en.wikipedia.org/wiki/Quicksort). \textbf{Warning:} (This
example is only for illustration. In practice we should not implement
our own sorting algorithm but rather use the built in \texttt{sorted}
function that is part of the python language (See the chapter on lists).
Furthermore, the implementation presented here is also not as efficient
as it can be, but is designed to be as simple and understandable as it
can be)

The idea of the \texttt{quicksort} algorithm is as follows. Suppose you
have a queue of people that you want to sort from short to tall, finally
with shortest on the left, tallest on the right.

\begin{verbatim}
1. Take the first person, call them P. 
Put all people shorter than P to the left of P. 
Put all people taller than P to the right of P.

2. Sort the left group of people.
3. Sort the right group of people.
\end{verbatim}

The idea is to repeateatedly perform the same process from step 1.,
keeping in mind that once we get a group with zero or one person in it,
the group is automatically sorted.

We first give its specification:

\begin{verbatim}
Name : quicksort

Input:
    L : A list of unique numbers in any order.
    
    
Output:
    A list containing all the numbers in the input list L
    in ascending order.
    
    
 ------------------------
        
\end{verbatim}

Implementation of \texttt{quicksort} in pseudo code:

\begin{verbatim}

    If L has length 0 or one, 
        then it is already sorted, so return L

    Otherwise:
        Set the variable P to take the value of the zeroth element of L        
        Make a new list named 'left' containing all the elements strictly smaller than P        
        Make a new list 'right' containing all the elements strictly larger than P
        
        Return the concatenatation the following three lists:
            output of quicksort(left)
            [P]
            output of quicksort(right)
        

\end{verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{k}{def} \PY{n+nf}{quicksort}\PY{p}{(}\PY{n}{L}\PY{p}{)}\PY{p}{:}
             \PY{k}{if} \PY{n+nb}{len}\PY{p}{(}\PY{n}{L}\PY{p}{)} \PY{o}{==} \PY{l+m+mi}{0} \PY{o+ow}{or} \PY{n+nb}{len}\PY{p}{(}\PY{n}{L}\PY{p}{)} \PY{o}{==} \PY{l+m+mi}{1}\PY{p}{:} \PY{c+c1}{\PYZsh{} Lists of length zero or one are already sorted}
                 \PY{k}{return} \PY{n}{L}
            
             \PY{k}{else}\PY{p}{:}
                 \PY{n}{P} \PY{o}{=} \PY{n}{L}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
                 \PY{n}{left} \PY{o}{=} \PY{p}{[}\PY{n}{item} \PY{k}{for} \PY{n}{item} \PY{o+ow}{in} \PY{n}{L} \PY{k}{if} \PY{n}{item} \PY{o}{\PYZlt{}} \PY{n}{P}\PY{p}{]}          
                 \PY{n}{right} \PY{o}{=} \PY{p}{[}\PY{n}{item} \PY{k}{for} \PY{n}{item} \PY{o+ow}{in} \PY{n}{L} \PY{k}{if} \PY{n}{item} \PY{o}{\PYZgt{}} \PY{n}{P}\PY{p}{]}
                 \PY{k}{return} \PY{n}{quicksort}\PY{p}{(}\PY{n}{left}\PY{p}{)} \PY{o}{+} \PY{p}{[}\PY{n}{P}\PY{p}{]} \PY{o}{+} \PY{n}{quicksort}\PY{p}{(}\PY{n}{right}\PY{p}{)}  \PY{c+c1}{\PYZsh{} \PYZlt{}\PYZhy{}\PYZhy{}\PYZhy{} Notice the recursion}
             
\end{Verbatim}

Make sure you understand why the implementation above is recursive!

We run a few test cases.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{n}{quicksort}\PY{p}{(}\PY{p}{[}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{11}\PY{p}{,}\PY{l+m+mi}{15}\PY{p}{]}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}11}]:} [2, 5, 8, 10, 11, 15]
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{n}{quicksort}\PY{p}{(}\PY{p}{[}\PY{l+m+mi}{8}\PY{p}{,} \PY{l+m+mi}{19}\PY{p}{,} \PY{l+m+mi}{10}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{16}\PY{p}{,} \PY{l+m+mi}{6}\PY{p}{,} \PY{l+m+mi}{11}\PY{p}{,} \PY{l+m+mi}{7}\PY{p}{,} \PY{l+m+mi}{17}\PY{p}{,} \PY{l+m+mi}{18}\PY{p}{,} \PY{l+m+mi}{14}\PY{p}{,} \PY{l+m+mi}{13}\PY{p}{,} \PY{l+m+mi}{15}\PY{p}{,} \PY{l+m+mi}{4}\PY{p}{,} \PY{l+m+mi}{5}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{,} \PY{l+m+mi}{9}\PY{p}{]}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}12}]:} [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]
\end{Verbatim}
            
\section{Example: Bubblesort
(non-recursive)}\label{example-bubblesort-non-recursive}

We implement the bubblesort algorithm non-recursively
(https://en.wikipedia.org/wiki/Bubble\_sort). \textbf{Warning:} (This
example is only for illustration. In practice we should not implement
our own sorting algorithm but rather use the built in \texttt{sorted}
function that is part of the python language (See the chapter on lists).
Furthermore, the implementation presented here is also not as efficient
as it can be, but is designed to be as simple and understandable as it
can be).

The idea of the \texttt{bubblesort} algorithm is as follows. Suppose you
have a queue of people that you want to sort from short to tall, finally
with shortest on the left, tallest on the right.

\begin{verbatim}
0. Position yourself on the leftmost point of the queue facing the people in the queue.

1. While you haven't reached the rightmost endpoint do the following:
        If at your current position the person to the right is shorter than the person in front of you:
            swap them and immediately go back to the leftmost end of the queue.
    
        Otherwise move one step to the right.
    
   
\end{verbatim}

We first give its specification:

\begin{verbatim}
Name : bubblesort

Input:
    L : A list of unique numbers in any order.
    
    
Output:
    A list containing all the numbers in the input list L
    in ascending order.
    
    

        
\end{verbatim}

Notice how the above specification is exactly the same as
\texttt{quicksort}, except for the name.

Implementation of \texttt{bubblesort} in pseudo code:

\begin{verbatim}
    
    Set 'position' equal to 0
    Set 'last_position' equal to the index of the last item in the list L
    
    While position is strictly less than last_position do the following:
        If the position-th element in L is strctly bigger than (position+1)-th element in L then
            swap these two elements and set position to equal 0.
            
        Otherwise, increase position by one.
        

\end{verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}24}]:} \PY{k}{def} \PY{n+nf}{bubblesort}\PY{p}{(}\PY{n}{L}\PY{p}{)}\PY{p}{:}
             \PY{n}{L} \PY{o}{=} \PY{n}{L}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)} \PY{c+c1}{\PYZsh{} This is optional. This line can be deleted.                }
                          \PY{c+c1}{\PYZsh{} We do this to have a pure function:}
                          \PY{c+c1}{\PYZsh{} https://en.wikipedia.org/wiki/Pure\PYZus{}function}
                          \PY{c+c1}{\PYZsh{} Do try to understand the effect of this line}
                          \PY{c+c1}{\PYZsh{} and what is meant by a \PYZsq{}side effect\PYZsq{}.}
                         
             
             \PY{n}{position} \PY{o}{=} \PY{l+m+mi}{0}
             \PY{n}{last\PYZus{}position} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{L}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}
             \PY{k}{while} \PY{n}{position} \PY{o}{\PYZlt{}} \PY{n}{last\PYZus{}position}\PY{p}{:}
                 \PY{k}{if} \PY{n}{L}\PY{p}{[}\PY{n}{position}\PY{p}{]} \PY{o}{\PYZgt{}} \PY{n}{L}\PY{p}{[}\PY{n}{position}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{:}                              \PY{c+c1}{\PYZsh{} If out of order...}
                     \PY{n}{L}\PY{p}{[}\PY{n}{position}\PY{p}{]}\PY{p}{,} \PY{n}{L}\PY{p}{[}\PY{n}{position}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{=} \PY{n}{L}\PY{p}{[}\PY{n}{position}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n}{L}\PY{p}{[}\PY{n}{position}\PY{p}{]}  \PY{c+c1}{\PYZsh{} ... then swap them}
                     \PY{n}{position} \PY{o}{=} \PY{l+m+mi}{0}
                 \PY{k}{else}\PY{p}{:}
                     \PY{n}{position} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
             
             \PY{k}{return} \PY{n}{L}  
                 
                 
                 
\end{Verbatim}

Make sure you understand why the implementation above is non-recursive!

We run a few test cases.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{n}{bubblesort}\PY{p}{(}\PY{p}{[}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{11}\PY{p}{,}\PY{l+m+mi}{15}\PY{p}{]}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}14}]:} [2, 5, 8, 10, 11, 15]
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{n}{bubblesort}\PY{p}{(}\PY{p}{[}\PY{l+m+mi}{8}\PY{p}{,} \PY{l+m+mi}{19}\PY{p}{,} \PY{l+m+mi}{10}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{16}\PY{p}{,} \PY{l+m+mi}{6}\PY{p}{,} \PY{l+m+mi}{11}\PY{p}{,} \PY{l+m+mi}{7}\PY{p}{,} \PY{l+m+mi}{17}\PY{p}{,} \PY{l+m+mi}{18}\PY{p}{,} \PY{l+m+mi}{14}\PY{p}{,} \PY{l+m+mi}{13}\PY{p}{,} \PY{l+m+mi}{15}\PY{p}{,} \PY{l+m+mi}{4}\PY{p}{,} \PY{l+m+mi}{5}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{,} \PY{l+m+mi}{9}\PY{p}{]}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}15}]:} [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]
\end{Verbatim}
            
\section{Experiment: Which is faster bubblesort (non-recursive) or
quicksort
(recursive)?}\label{experiment-which-is-faster-bubblesort-non-recursive-or-quicksort-recursive}

We construct a list of 1000 numbers and shuffle them.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}22}]:} \PY{k+kn}{import} \PY{n+nn}{random}
         \PY{n}{L} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{10}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{3}\PY{p}{)}\PY{p}{)}
         \PY{n}{random}\PY{o}{.}\PY{n}{shuffle}\PY{p}{(}\PY{n}{L}\PY{p}{)}
\end{Verbatim}

Now compare how long \texttt{quicksort} (recursive) takes vs
\texttt{bubblesort} (non-recursive).

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{quicksort}\PY{p}{(}\PY{n}{L}\PY{p}{)}   \PY{c+c1}{\PYZsh{} instant}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}21}]:} \PY{n}{bubblesort}\PY{p}{(}\PY{n}{L}\PY{p}{)}  \PY{c+c1}{\PYZsh{} takes a couple of seconds}
\end{Verbatim}

Compare the outcome with the recursive and non-recursive implementations
of our functions that generate \textbf{fibonacci numbers}. What you
should notice is that sometimes a recursive algorithm is more efficient
than a non-recursive algorithm and other times the reverse is true. It
is the programmer's job to decide when and when not to use recursion.
Sometimes recursion is a good choice, and other times not so good. We
can only know which to use by analysing algorithms and
\emph{understanding why} one might be slower than another.

\chapter{Logical computation with the 'any' and 'all'
functions}\label{logical-computation-with-the-any-and-all-functions}

Sometimes one is required to decide if a number of statements in a list
are \emph{all} true.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{n+nb}{all}\PY{p}{(}\PY{p}{[}\PY{k+kc}{True}\PY{p}{,} \PY{k+kc}{True}\PY{p}{,} \PY{k+kc}{True}\PY{p}{,} \PY{k+kc}{True}\PY{p}{]}\PY{p}{)} \PY{c+c1}{\PYZsh{} All true? Yes.}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}4}]:} True
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n+nb}{all}\PY{p}{(}\PY{p}{[}\PY{k+kc}{True}\PY{p}{,} \PY{k+kc}{True}\PY{p}{,} \PY{k+kc}{False}\PY{p}{,} \PY{k+kc}{True}\PY{p}{]}\PY{p}{)} \PY{c+c1}{\PYZsh{} All true? No.}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}7}]:} False
\end{Verbatim}
            
... and sometimes one is required to decide if \emph{at least one} from
a number of statements is true:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{n+nb}{any}\PY{p}{(}\PY{p}{[}\PY{k+kc}{True}\PY{p}{,} \PY{k+kc}{False}\PY{p}{,} \PY{k+kc}{False}\PY{p}{,} \PY{k+kc}{True}\PY{p}{]}\PY{p}{)} \PY{c+c1}{\PYZsh{} Is at least one statement true? Yes.}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}15}]:} True
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{n+nb}{any}\PY{p}{(}\PY{p}{[}\PY{k+kc}{False}\PY{p}{,} \PY{k+kc}{False}\PY{p}{,} \PY{k+kc}{False}\PY{p}{,} \PY{k+kc}{False}\PY{p}{]}\PY{p}{)} \PY{c+c1}{\PYZsh{} Is at least one statement true? No.}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}10}]:} False
\end{Verbatim}
            
\emph{Examples}

The following examples illustrate how the \emph{all} and \emph{any}
functions can be used.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{c+c1}{\PYZsh{} Do *all* the letters \PYZdq{}a\PYZdq{}, \PYZdq{}b\PYZdq{}, \PYZdq{}l\PYZdq{} occur the phrase \PYZdq{}mary had a little lamb\PYZdq{}? }
        \PY{c+c1}{\PYZsh{} Yes. So the following evaluates to True.}
        \PY{n+nb}{all}\PY{p}{(}\PY{p}{[}\PY{n}{letter} \PY{o+ow}{in} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{mary had a little lamb}\PY{l+s+s2}{\PYZdq{}} \PY{k}{for} \PY{n}{letter} \PY{o+ow}{in} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{a}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{b}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{l}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{]}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}2}]:} True
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{c+c1}{\PYZsh{} Do *all* the letters \PYZdq{}a\PYZdq{}, \PYZdq{}b\PYZdq{}, \PYZdq{}q\PYZdq{} occur the phrase \PYZdq{}the quick brown fox\PYZdq{}?}
        \PY{c+c1}{\PYZsh{} No. The letter \PYZdq{}a\PYZdq{} does not occur, so the following evaluates to False.}
        \PY{n+nb}{all}\PY{p}{(}\PY{p}{[}\PY{n}{letter} \PY{o+ow}{in} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{the quick brown fox}\PY{l+s+s2}{\PYZdq{}} \PY{k}{for} \PY{n}{letter} \PY{o+ow}{in} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{a}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{b}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{q}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{]}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}4}]:} False
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{c+c1}{\PYZsh{} Does *at least one* of the letters \PYZdq{}a\PYZdq{}, \PYZdq{}b\PYZdq{}, \PYZdq{}z\PYZdq{} occur the phrase \PYZdq{}the quick brown fox\PYZdq{}?}
        \PY{c+c1}{\PYZsh{} Yes. The letter \PYZdq{}b\PYZdq{} occurs, so the following evaluates to True.}
        \PY{n+nb}{any}\PY{p}{(}\PY{p}{[}\PY{n}{letter} \PY{o+ow}{in} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{the quick brown fox}\PY{l+s+s2}{\PYZdq{}} \PY{k}{for} \PY{n}{letter} \PY{o+ow}{in} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{a}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{b}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{z}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{]}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}7}]:} True
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{c+c1}{\PYZsh{} Does *at least one* of the letters \PYZdq{}z\PYZdq{}, \PYZdq{}q\PYZdq{}, \PYZdq{}p\PYZdq{} occur the phrase \PYZdq{}mary had a little lamb\PYZdq{}?}
        \PY{c+c1}{\PYZsh{} No. none of the letters occur, so the following evaluates to True.}
        \PY{n+nb}{any}\PY{p}{(}\PY{p}{[}\PY{n}{letter} \PY{o+ow}{in} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{mary had a little lamb}\PY{l+s+s2}{\PYZdq{}} \PY{k}{for} \PY{n}{letter} \PY{o+ow}{in} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{z}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{p}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{q}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{]}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}8}]:} False
\end{Verbatim}
            
\section{Challenge: is\_prime in one
line}\label{challenge-is_prime-in-one-line}

A prime number is a number \(n\) that greater than 1, \textbf{and} for
which "\textbf{not any} of the numbers \(\{2,3,4,\ldots,n-1\}\) divide
the number \(n\)".

This can be expressed nearly as clearly in Python using the any
function. Try to write a function whose body is one line long and
impelements the following specification

\begin{verbatim}
Function name: is_prime

Input:
    n : any natural number
    
Output:
    True if n is prime,
    False if n is not prime
    
\end{verbatim}

\chapter{Computing with lists}\label{computing-with-lists}

\section{sum, max, min}\label{sum-max-min}

the sum, min and max functions allow for concisely expressing often
occuring computations that we might perform on lists.

Consider the list:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{n}{numbers} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{,} \PY{l+m+mi}{44}\PY{p}{,}\PY{l+m+mi}{100}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{99}\PY{p}{]}
\end{Verbatim}

...the sum of all the numbers in this list is

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{n+nb}{sum}\PY{p}{(}\PY{n}{numbers}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}4}]:} 262
\end{Verbatim}
            
... the smallest is

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{n+nb}{min}\PY{p}{(}\PY{n}{numbers}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}5}]:} 1
\end{Verbatim}
            
... and the largest is

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{n+nb}{max}\PY{p}{(}\PY{n}{numbers}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}6}]:} 100
\end{Verbatim}
            
\section{Computing with comprehensions:
sum}\label{computing-with-comprehensions-sum}

We can perform computations with comprehensions. This is useful, because
it makes our code easy to read and maintain.

We can compute the sum \(1+2+3+4+\ldots+100\):

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{n+nb}{sum}\PY{p}{(}\PY{n}{i} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{101}\PY{p}{)}\PY{p}{)} \PY{c+c1}{\PYZsh{} Why 101?}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}9}]:} 5050
\end{Verbatim}
            
... or the sum of squares: \(1+2^2+3^2+4^2+\ldots+100^2\):

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{n+nb}{sum}\PY{p}{(}\PY{n}{i}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{101}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}6}]:} 338350
\end{Verbatim}
            
... or the sum of squares of even numbers:
\(2^2+4^2+6^2+\ldots+10000^2\):

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n+nb}{sum}\PY{p}{(}\PY{n}{i}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{10001}\PY{p}{)}  \PY{k}{if} \PY{n}{i} \PY{o}{\PYZpc{}} \PY{l+m+mi}{2} \PY{o}{==} \PY{l+m+mi}{0}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}8}]:} 166716670000
\end{Verbatim}
            
\section{Computing with comprehensions: min,
max}\label{computing-with-comprehensions-min-max}

We can also use the max or the min functions with comprehensions.

E.g., the smallest number whose square lies in the interval
{[}536,9000{]} is...

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{n+nb}{min}\PY{p}{(}\PY{n}{i} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{9001}\PY{p}{)} \PY{k}{if} \PY{l+m+mi}{536} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{n}{i}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{l+m+mi}{9000} \PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}1}]:} 24
\end{Verbatim}
            
... and the largest is

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{n+nb}{max}\PY{p}{(}\PY{n}{i} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{9001}\PY{p}{)} \PY{k}{if} \PY{l+m+mi}{536} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{n}{i}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{l+m+mi}{9000} \PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}2}]:} 94
\end{Verbatim}
            
If we define we can do more advanced searches as well.

E.g., finding the smallest prime number in the interval {[}536,9000{]} :

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k}{def} \PY{n+nf}{is\PYZus{}prime}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{:}
            \PY{k}{return} \PY{n}{n} \PY{o}{\PYZgt{}} \PY{l+m+mi}{1} \PY{o+ow}{and} \PY{o+ow}{not} \PY{n+nb}{any} \PY{p}{(}\PY{n}{n} \PY{o}{\PYZpc{}} \PY{n}{j}\PY{o}{==}\PY{l+m+mi}{0} \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,}\PY{n}{n}\PY{p}{)}\PY{p}{)} 
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{n+nb}{min}\PY{p}{(}\PY{n}{p} \PY{k}{for} \PY{n}{p} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{536}\PY{p}{,}\PY{l+m+mi}{9001}\PY{p}{)} \PY{k}{if} \PY{n}{is\PYZus{}prime}\PY{p}{(}\PY{n}{p}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}2}]:} 541
\end{Verbatim}
            
...and the largest

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{n+nb}{max}\PY{p}{(}\PY{n}{p} \PY{k}{for} \PY{n}{p} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{536}\PY{p}{,}\PY{l+m+mi}{9001}\PY{p}{)} \PY{k}{if} \PY{n}{is\PYZus{}prime}\PY{p}{(}\PY{n}{p}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}3}]:} 8999
\end{Verbatim}
            
\section{More computing with min and
max}\label{more-computing-with-min-and-max}

We can use min and max with any objects that can be compared, like
strings which are compared by their alphabetical order.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{n}{names} \PY{o}{=} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{randall}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{jamie}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{robert}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{danaeris}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
                 \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{aegon}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{tyrrion}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{mother\PYZhy{}of\PYZhy{}dragons\PYZhy{}and\PYZhy{}breaker\PYZhy{}of\PYZhy{}chains}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
\end{Verbatim}

The last name alphabetically is

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{n+nb}{max}\PY{p}{(}\PY{n}{names}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}2}]:} 'tyrrion'
\end{Verbatim}
            
... the first

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{n+nb}{min}\PY{p}{(}\PY{n}{names}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}3}]:} 'aegon'
\end{Verbatim}
            
... and the longest we can find by using len as a key function (see
section on sorting)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{n+nb}{max}\PY{p}{(}\PY{n}{names}\PY{p}{,} \PY{n}{key}\PY{o}{=}\PY{n+nb}{len}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}4}]:} 'mother-of-dragons-and-breaker-of-chains'
\end{Verbatim}
            
...and the shortest

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{n+nb}{min}\PY{p}{(}\PY{n}{names}\PY{p}{,} \PY{n}{key}\PY{o}{=}\PY{n+nb}{len}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}5}]:} 'jamie'
\end{Verbatim}
            
... and more advanced, the shortest and alphabetically first

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{n+nb}{min}\PY{p}{(}\PY{n}{names}\PY{p}{,} \PY{n}{key}\PY{o}{=}\PY{k}{lambda} \PY{n}{x}\PY{p}{:}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{,} \PY{n}{x}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}6}]:} 'aegon'
\end{Verbatim}
            
To understand this last example, understand that tuples are compared
lexicographically (See
https://en.wikipedia.org/wiki/Lexicographical\_order)

\section{Challenge: greatest\_common\_divisor in one
line}\label{challenge-greatest_common_divisor-in-one-line}

Use the max funtion and conditional a list comprehension to implement a
function according to the following specification and whose body is one
line line.

\begin{verbatim}
Funciton name: greatest_common_divisor

Input:
    n, m: Natural numbers
    
Output:
    The largest number which divides into both m and n evenly.
\end{verbatim}

\chapter{Dictionaries}\label{dictionaries}

Dictionaries are datastructures that map one object to another. We
create a dictionary using the \{ ... : ... \} notation.

Consider the dictionary:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{n}{surname\PYZus{}dictionary} \PY{o}{=} \PY{p}{\PYZob{}}
            \PY{c+c1}{\PYZsh{} key   : \PYZsh{}value,}
            \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{kevin}\PY{l+s+s2}{\PYZdq{}} \PY{p}{:} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{de koker}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
            \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{john}\PY{l+s+s2}{\PYZdq{}}  \PY{p}{:} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{mphako}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
            \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{alice}\PY{l+s+s2}{\PYZdq{}} \PY{p}{:} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{munro}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
            \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{doris}\PY{l+s+s2}{\PYZdq{}} \PY{p}{:} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{lessing}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
        \PY{p}{\PYZcb{}}
        \PY{n}{surname\PYZus{}dictionary}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}1}]:} \{'alice': 'munro', 'doris': 'lessing', 'john': 'mphako', 'kevin': 'de koker'\}
\end{Verbatim}
            
We can access a \emph{value} associated to a specific \emph{key}:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{n}{surname\PYZus{}dictionary}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{kevin}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}2}]:} 'de koker'
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{n}{surname\PYZus{}dictionary}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{alice}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}3}]:} 'munro'
\end{Verbatim}
            
An error is raised if the key is not in the dictionary:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{n}{surname\PYZus{}dictionary}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bobby}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]

        ---------------------------------------------------------------------------

        KeyError                                  Traceback (most recent call last)

        <ipython-input-4-aebb82606656> in <module>()
    ----> 1 surname\_dictionary["bobby"]
    

        KeyError: 'bobby'

    \end{Verbatim}

We can ask if a key is in the dictionary:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{kevin}\PY{l+s+s2}{\PYZdq{}} \PY{o+ow}{in} \PY{n}{surname\PYZus{}dictionary}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}5}]:} True
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bobby}\PY{l+s+s2}{\PYZdq{}} \PY{o+ow}{in} \PY{n}{surname\PYZus{}dictionary}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}6}]:} False
\end{Verbatim}
            
... the \emph{in} operator only checks keys, not values:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{de koker}\PY{l+s+s2}{\PYZdq{}} \PY{o+ow}{in} \PY{n}{surname\PYZus{}dictionary} 
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}7}]:} False
\end{Verbatim}
            
We can add elements:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n}{surname\PYZus{}dictionary}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{katie}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{van der merwe}\PY{l+s+s2}{\PYZdq{}} 
        \PY{n}{surname\PYZus{}dictionary}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}8}]:} \{'alice': 'munro',
         'doris': 'lessing',
         'john': 'mphako',
         'katie': 'van der merwe',
         'kevin': 'de koker'\}
\end{Verbatim}
            
... and remove elements:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{k}{del} \PY{n}{surname\PYZus{}dictionary}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{alice}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} 
         \PY{n}{surname\PYZus{}dictionary}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}10}]:} \{'doris': 'lessing',
          'john': 'mphako',
          'katie': 'van der merwe',
          'kevin': 'de koker'\}
\end{Verbatim}
            
Iterating over a dictionary, iterates over the keys:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{k}{for} \PY{n}{key} \PY{o+ow}{in} \PY{n}{surname\PYZus{}dictionary}\PY{p}{:}
             \PY{n+nb}{print}\PY{p}{(}\PY{n}{key}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
doris
john
kevin
katie

    \end{Verbatim}

... but we can also iterate over the values using \emph{.values()}:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{k}{for} \PY{n}{key} \PY{o+ow}{in} \PY{n}{surname\PYZus{}dictionary}\PY{o}{.}\PY{n}{values}\PY{p}{(}\PY{p}{)}\PY{p}{:}
             \PY{n+nb}{print}\PY{p}{(}\PY{n}{key}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
lessing
mphako
de koker
van der merwe

    \end{Verbatim}

... or we can iterate over key-value pairs using \emph{.items()}:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{k}{for} \PY{n}{pair} \PY{o+ow}{in} \PY{n}{surname\PYZus{}dictionary}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{:} 
             \PY{n+nb}{print}\PY{p}{(}\PY{n}{pair}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
('doris', 'lessing')
('john', 'mphako')
('kevin', 'de koker')
('katie', 'van der merwe')

    \end{Verbatim}

It is often useful to unpack such pairs:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{k}{for} \PY{n}{firstname}\PY{p}{,} \PY{n}{lastname} \PY{o+ow}{in} \PY{n}{surname\PYZus{}dictionary}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{:}  
             \PY{n+nb}{print}\PY{p}{(}\PY{n}{firstname}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZhy{}\PYZhy{}\PYZgt{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{lastname}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
doris --> l
john --> m
kevin --> d
katie --> v

    \end{Verbatim}

\chapter{Dictionary comprehensions}\label{dictionary-comprehensions}

Dictionary comprehension is a concise way to construct dictionaries
using a for-loop syntax.

Consider:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{n}{surname\PYZus{}dictionary} \PY{o}{=} \PY{p}{\PYZob{}}
            \PY{c+c1}{\PYZsh{} key   : \PYZsh{}value,}
            \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{kevin}\PY{l+s+s2}{\PYZdq{}} \PY{p}{:} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{de koker}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
            \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{john}\PY{l+s+s2}{\PYZdq{}} \PY{p}{:} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{mphako}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
            \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{alice}\PY{l+s+s2}{\PYZdq{}} \PY{p}{:} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{munro}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
            \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{doris}\PY{l+s+s2}{\PYZdq{}} \PY{p}{:} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{lessing}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
        \PY{p}{\PYZcb{}}
        \PY{n}{surname\PYZus{}dictionary}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}1}]:} \{'alice': 'munro', 'doris': 'lessing', 'john': 'mphako', 'kevin': 'de koker'\}
\end{Verbatim}
            
We construct a dictionary which maps a name to the length of the
surname.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{n}{length\PYZus{}of\PYZus{}surname\PYZus{}dictionary} \PY{o}{=} \PY{p}{\PYZob{}}
            \PY{n}{firstname} \PY{p}{:} \PY{n+nb}{len}\PY{p}{(}\PY{n}{lastname}\PY{p}{)} \PY{k}{for} \PY{n}{firstname}\PY{p}{,} \PY{n}{lastname} \PY{o+ow}{in} \PY{n}{surname\PYZus{}dictionary}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)} 
        \PY{p}{\PYZcb{}}
        \PY{n}{length\PYZus{}of\PYZus{}surname\PYZus{}dictionary}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}2}]:} \{'alice': 5, 'doris': 7, 'john': 6, 'kevin': 8\}
\end{Verbatim}
            
We construct a dictionary which filtered all items whose last name start
with "m"

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{n}{last\PYZus{}name\PYZus{}starts\PYZus{}with\PYZus{}m} \PY{o}{=} \PY{p}{\PYZob{}}
            \PY{n}{firstname} \PY{p}{:} \PY{n}{lastname} 
                \PY{k}{for} \PY{n}{firstname}\PY{p}{,} \PY{n}{lastname} \PY{o+ow}{in} \PY{n}{surname\PYZus{}dictionary}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}                            
                    \PY{k}{if} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{m}\PY{l+s+s2}{\PYZdq{}} \PY{o}{==} \PY{n}{lastname}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
        \PY{p}{\PYZcb{}}
        \PY{n}{last\PYZus{}name\PYZus{}starts\PYZus{}with\PYZus{}m}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}3}]:} \{'alice': 'munro', 'john': 'mphako'\}
\end{Verbatim}
            
\chapter{Importing modules and interactive
help}\label{importing-modules-and-interactive-help}

Not all Python functionality is builtin. Extra functionality is provided
in \emph{modules}. To use the extra functionality provided by a module
we must \emph{import} the module.

The syntax for importing modules are:

\begin{verbatim}
import ...
from ... import ...
import ... as ...
\end{verbatim}

Let's import the \emph{math} module:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{k+kn}{import} \PY{n+nn}{math}
\end{Verbatim}

We can see what objects the math module provides by calling the
\emph{dir} method on it:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{n+nb}{dir}\PY{p}{(}\PY{n}{math}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}3}]:} ['\_\_doc\_\_',
         '\_\_loader\_\_',
         '\_\_name\_\_',
         '\_\_package\_\_',
         '\_\_spec\_\_',
         'acos',
         'acosh',
         'asin',
         'asinh',
         'atan',
         'atan2',
         'atanh',
         'ceil',
         'copysign',
         'cos',
         'cosh',
         'degrees',
         'e',
         'erf',
         'erfc',
         'exp',
         'expm1',
         'fabs',
         'factorial',
         'floor',
         'fmod',
         'frexp',
         'fsum',
         'gamma',
         'gcd',
         'hypot',
         'inf',
         'isclose',
         'isfinite',
         'isinf',
         'isnan',
         'ldexp',
         'lgamma',
         'log',
         'log10',
         'log1p',
         'log2',
         'modf',
         'nan',
         'pi',
         'pow',
         'radians',
         'sin',
         'sinh',
         'sqrt',
         'tan',
         'tanh',
         'trunc']
\end{Verbatim}
            
If we need to know more about an object, then we can the \emph{help}
funciton on it:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{n}{help}\PY{p}{(}\PY{n}{math}\PY{o}{.}\PY{n}{acos}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
Help on built-in function acos in module math:

acos({\ldots})
    acos(x)
    
    Return the arc cosine (measured in radians) of x.


    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{n}{help}\PY{p}{(}\PY{n}{math}\PY{o}{.}\PY{n}{radians}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
Help on built-in function radians in module math:

radians({\ldots})
    radians(x)
    
    Convert angle x from degrees to radians.


    \end{Verbatim}

With the math module imported, we can access its contents and call the
functions it defines:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{math}\PY{o}{.}\PY{n}{pi}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}7}]:} 3.141592653589793
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n}{math}\PY{o}{.}\PY{n}{acos}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}8}]:} 3.141592653589793
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{n}{math}\PY{o}{.}\PY{n}{sin}\PY{p}{(}\PY{n}{math}\PY{o}{.}\PY{n}{radians}\PY{p}{(}\PY{l+m+mi}{90}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}9}]:} 1.0
\end{Verbatim}
            
\chapter{Sympy}\label{sympy}

Sympy is an external Python module that allows for symbolic computations
like solving equations, differentiation and integration.

We import the \emph{sympy} module

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{k+kn}{import} \PY{n+nn}{sympy}
\end{Verbatim}

If we want to have pretty output inside a Jupyter notebook, we call
sympy.init\_printing

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{n}{sympy}\PY{o}{.}\PY{n}{init\PYZus{}printing}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

We can import standard symbols from the sympy.abc module

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{k+kn}{from} \PY{n+nn}{sympy}\PY{n+nn}{.}\PY{n+nn}{abc} \PY{k}{import} \PY{n}{x}\PY{p}{,}\PY{n}{y}
\end{Verbatim}

With these symbols, we can define an algebraic expression in the
variables x and y

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{n}{an\PYZus{}expression} \PY{o}{=} \PY{n}{sympy}\PY{o}{.}\PY{n}{sin}\PY{p}{(}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{\PYZhy{}} \PY{n}{x} \PY{o}{\PYZhy{}} \PY{l+m+mi}{1} \PY{o}{+} \PY{n}{sympy}\PY{o}{.}\PY{n}{acos}\PY{p}{(}\PY{n}{y}\PY{p}{)}\PY{p}{)}
        \PY{n}{an\PYZus{}expression}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}6}]:}
    
    $$\sin{\left (x^{2} - x + \operatorname{acos}{\left (y \right )} - 1 \right )}$$

    

We can define custom symbols using the sympy.symbols function:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{n}{bob}  \PY{o}{=} \PY{n}{sympy}\PY{o}{.}\PY{n}{symbols}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bob}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{bob} \PY{o}{+} \PY{n}{bob} \PY{o}{+} \PY{l+m+mi}{3}\PY{o}{*}\PY{n}{bob} \PY{c+c1}{\PYZsh{} should be 5*bob}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}7}]:}
    
    $\displaystyle 5 bob$

    

\section{Expanding, factoring and simplifying
expressions}\label{expanding-factoring-and-simplifying-expressions}

We can expand expressions using sympy.expand

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{sympy}\PY{o}{.}\PY{n}{expand}\PY{p}{(} \PY{p}{(}\PY{n}{x}\PY{o}{+}\PY{l+m+mi}{4}\PY{p}{)}\PY{o}{*}\PY{p}{(}\PY{n}{x}\PY{o}{\PYZhy{}}\PY{l+m+mi}{6}\PY{p}{)} \PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}7}]:}
    
    $$x^{2} - 2 x - 24$$

    

We can factor expressions using sympy.factor

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n}{sympy}\PY{o}{.}\PY{n}{factor}\PY{p}{(} \PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2}\PY{o}{\PYZhy{}}\PY{n}{x}\PY{o}{\PYZhy{}}\PY{l+m+mi}{20} \PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}8}]:}
    
    $$\left(x - 5\right) \left(x + 4\right)$$

    

We can make more complicated expressions ...

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}47}]:} \PY{p}{(}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{3} \PY{o}{+} \PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{\PYZhy{}} \PY{n}{x} \PY{o}{\PYZhy{}} \PY{l+m+mi}{1}\PY{p}{)}\PY{o}{/}\PY{p}{(}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{+} \PY{l+m+mi}{2}\PY{o}{*}\PY{n}{x} \PY{o}{+} \PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}47}]:}
    
    $$\frac{x^{3} + x^{2} - x - 1}{x^{2} + 2 x + 1}$$

    

... and simplify them using sympy.simplify

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{n}{sympy}\PY{o}{.}\PY{n}{simplify}\PY{p}{(} \PY{p}{(}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{3} \PY{o}{+} \PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{\PYZhy{}} \PY{n}{x} \PY{o}{\PYZhy{}} \PY{l+m+mi}{1}\PY{p}{)}\PY{o}{/}\PY{p}{(}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{+} \PY{l+m+mi}{2}\PY{o}{*}\PY{n}{x} \PY{o}{+} \PY{l+m+mi}{1}\PY{p}{)} \PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}9}]:}
    
    $$x - 1$$

    

\section{Substituting values into
expressions}\label{substituting-values-into-expressions}

Let's define the quadratic expression \(x^2 - x - 1\)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{k+kn}{from} \PY{n+nn}{sympy}\PY{n+nn}{.}\PY{n+nn}{abc} \PY{k}{import} \PY{n}{x}
         \PY{n}{quadratic\PYZus{}expression} \PY{o}{=} \PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{\PYZhy{}} \PY{n}{x} \PY{o}{\PYZhy{}} \PY{l+m+mi}{1}
\end{Verbatim}

... and substitute the value 1 for the symbol \(x\) using the .subs
function.

Notice the dictionary! Make sure you understand why the result is -1.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{n}{quadratic\PYZus{}expression}\PY{o}{.}\PY{n}{subs}\PY{p}{(}\PY{p}{\PYZob{}}\PY{n}{x} \PY{p}{:} \PY{l+m+mi}{1}\PY{p}{\PYZcb{}}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}12}]:}
    
    $$-1$$

    

We substitute the value -2 for the symbol \(x\) using the .subs
function. Make sure you understand why the result is 5.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{n}{quadratic\PYZus{}expression}\PY{o}{.}\PY{n}{subs}\PY{p}{(}\PY{p}{\PYZob{}}\PY{n}{x} \PY{p}{:} \PY{o}{\PYZhy{}}\PY{l+m+mi}{2}\PY{p}{\PYZcb{}}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}15}]:}
    
    $$5$$

    

\section{Solving equations}\label{solving-equations}

We can solve equations with sympy.

WARNING: We cannot use "=" or "==" to define equations, we must use
sympy.Eq.

We make the equation \(x^2 - x - 1= 0\).

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}17}]:} \PY{k+kn}{import} \PY{n+nn}{sympy}
         \PY{k+kn}{from} \PY{n+nn}{sympy}\PY{n+nn}{.}\PY{n+nn}{abc} \PY{k}{import} \PY{n}{x}
         
         \PY{n}{sympy}\PY{o}{.}\PY{n}{Eq}\PY{p}{(}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{\PYZhy{}} \PY{n}{x} \PY{o}{\PYZhy{}} \PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}17}]:}
    
    $$x^{2} - x - 1 = 0$$

    

... and solve for \(x\) in this equation by calling the sympy.solve
function

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}18}]:} \PY{n}{sympy}\PY{o}{.}\PY{n}{solve}\PY{p}{(}\PY{n}{sympy}\PY{o}{.}\PY{n}{Eq}\PY{p}{(}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{\PYZhy{}} \PY{n}{x} \PY{o}{\PYZhy{}} \PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{)}\PY{p}{,}  \PY{n}{x}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}18}]:}
    
    $$\left [ \frac{1}{2} + \frac{\sqrt{5}}{2}, \quad - \frac{\sqrt{5}}{2} + \frac{1}{2}\right ]$$

    

... by just providing an expression to sympy.solve, it solves the
equation expression=0.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} \PY{n}{sympy}\PY{o}{.}\PY{n}{solve}\PY{p}{(}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{\PYZhy{}} \PY{n}{x} \PY{o}{\PYZhy{}} \PY{l+m+mi}{1}\PY{p}{,} \PY{n}{x}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}19}]:}
    
    $$\left [ \frac{1}{2} + \frac{\sqrt{5}}{2}, \quad - \frac{\sqrt{5}}{2} + \frac{1}{2}\right ]$$

    

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} 
\end{Verbatim}

We can solve more complicated equations. Let's solve for \(\theta\) in:

\(\cos(\theta) = \sin(\theta)\)

The equation has infinitely many solutions in \(\theta\). However,
sympy.solve only gives two:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}24}]:} \PY{k+kn}{from} \PY{n+nn}{sympy}\PY{n+nn}{.}\PY{n+nn}{abc} \PY{k}{import} \PY{n}{theta}
         \PY{n}{sympy}\PY{o}{.}\PY{n}{solve}\PY{p}{(} \PY{n}{sympy}\PY{o}{.}\PY{n}{Eq}\PY{p}{(}\PY{n}{sympy}\PY{o}{.}\PY{n}{cos}\PY{p}{(}\PY{n}{theta}\PY{p}{)}\PY{p}{,}  \PY{n}{sympy}\PY{o}{.}\PY{n}{sin}\PY{p}{(}\PY{n}{theta}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{n}{theta}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}24}]:}
    
    $$\left [ - \frac{3 \pi}{4}, \quad \frac{\pi}{4}\right ]$$

    

... sympy.solveset gives all infinitely many solutions

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}25}]:} \PY{n}{sympy}\PY{o}{.}\PY{n}{solveset}\PY{p}{(} \PY{n}{sympy}\PY{o}{.}\PY{n}{Eq}\PY{p}{(}\PY{n}{sympy}\PY{o}{.}\PY{n}{cos}\PY{p}{(}\PY{n}{theta}\PY{p}{)}\PY{p}{,}  \PY{n}{sympy}\PY{o}{.}\PY{n}{sin}\PY{p}{(}\PY{n}{theta}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{n}{theta}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}25}]:}
    
    $$\left\{2 n \pi + \frac{5 \pi}{4}\; |\; n \in \mathbb{Z}\right\} \cup \left\{2 n \pi + \frac{\pi}{4}\; |\; n \in \mathbb{Z}\right\}$$

    

\section{Solving systems of
equations}\label{solving-systems-of-equations}

We can also solve systems of equations like the following in \(x\) and
\(y\):

\[2x + 3y = 1\] \[3x + 2y = 2\]

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}26}]:} \PY{k+kn}{from} \PY{n+nn}{sympy}\PY{n+nn}{.}\PY{n+nn}{abc} \PY{k}{import} \PY{n}{x}\PY{p}{,}\PY{n}{y}
         \PY{k+kn}{import} \PY{n+nn}{sympy}
         
         \PY{n}{sympy}\PY{o}{.}\PY{n}{solve}\PY{p}{(}\PY{p}{[}
             \PY{n}{sympy}\PY{o}{.}\PY{n}{Eq}\PY{p}{(}\PY{l+m+mi}{2}\PY{o}{*}\PY{n}{x} \PY{o}{+} \PY{l+m+mi}{3}\PY{o}{*}\PY{n}{y}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{,}
             \PY{n}{sympy}\PY{o}{.}\PY{n}{Eq}\PY{p}{(}\PY{l+m+mi}{3}\PY{o}{*}\PY{n}{x} \PY{o}{+} \PY{l+m+mi}{2}\PY{o}{*}\PY{n}{y}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}
         \PY{p}{]}
         \PY{p}{,}\PY{p}{[}\PY{n}{x}\PY{p}{,}\PY{n}{y}\PY{p}{]}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}26}]:}
    
    $$\left \{ x : \frac{4}{5}, \quad y : - \frac{1}{5}\right \}$$

    

\section{Generating complicated
expressions}\label{generating-complicated-expressions}

We can use functions to generate complicated expressions.

Let's define a function \emph{P} that, for any number n, returns a
polynomial of the form

\[\sum_{k=0}^{n}{k}x^k\]

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}59}]:} \PY{k+kn}{import} \PY{n+nn}{sympy}
         \PY{k+kn}{from} \PY{n+nn}{sympy}\PY{n+nn}{.}\PY{n+nn}{abc} \PY{k}{import} \PY{n}{x}
         
         \PY{k}{def} \PY{n+nf}{P}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{:}
             \PY{k}{return} \PY{n+nb}{sum}\PY{p}{(} \PY{n}{k} \PY{o}{*} \PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{n}{k} \PY{k}{for} \PY{n}{k} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{n}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{)} \PY{p}{)}
\end{Verbatim}

We can now obtain the 6th degree polynomial of the given form by calling
P(6)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}60}]:} \PY{n}{P}\PY{p}{(}\PY{l+m+mi}{6}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}60}]:}
    
    $$6 x^{6} + 5 x^{5} + 4 x^{4} + 3 x^{3} + 2 x^{2} + x$$

    

... or the 10th degree polynomial by calling P(10)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}33}]:} \PY{n}{P}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}33}]:}
    
    $$10 x^{10} + 9 x^{9} + 8 x^{8} + 7 x^{7} + 6 x^{6} + 5 x^{5} + 4 x^{4} + 3 x^{3} + 2 x^{2} + x$$

    

For fun, let's solve the equation \(4x^4 + 3x^3 + 2x^2 + x = 0\).

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}35}]:} \PY{n}{sympy}\PY{o}{.}\PY{n}{solve}\PY{p}{(} \PY{n}{P}\PY{p}{(}\PY{l+m+mi}{4}\PY{p}{)}\PY{p}{,}  \PY{n}{x}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}35}]:}
    
    $$\left [ 0, \quad - \frac{1}{4} + \frac{5}{16 \left(- \frac{1}{2} - \frac{\sqrt{3} i}{2}\right) \sqrt[3]{\frac{135}{64} + \frac{15 \sqrt{6}}{16}}} - \frac{1}{3} \left(- \frac{1}{2} - \frac{\sqrt{3} i}{2}\right) \sqrt[3]{\frac{135}{64} + \frac{15 \sqrt{6}}{16}}, \quad - \frac{1}{4} - \frac{1}{3} \left(- \frac{1}{2} + \frac{\sqrt{3} i}{2}\right) \sqrt[3]{\frac{135}{64} + \frac{15 \sqrt{6}}{16}} + \frac{5}{16 \left(- \frac{1}{2} + \frac{\sqrt{3} i}{2}\right) \sqrt[3]{\frac{135}{64} + \frac{15 \sqrt{6}}{16}}}, \quad - \frac{1}{3} \sqrt[3]{\frac{135}{64} + \frac{15 \sqrt{6}}{16}} - \frac{1}{4} + \frac{5}{16 \sqrt[3]{\frac{135}{64} + \frac{15 \sqrt{6}}{16}}}\right ]$$

    

\section{Numerical approximation}\label{numerical-approximation}

Sometimes we want numerical approximations to mathematical constants. We
can compute them to arbitrary precision with the sympy's .n function.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}36}]:} \PY{k+kn}{import} \PY{n+nn}{sympy}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}37}]:} \PY{n}{sympy}\PY{o}{.}\PY{n}{pi}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}37}]:}
    
    $$\pi$$

    

... pi approximated to 50 digits is:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}40}]:} \PY{n}{sympy}\PY{o}{.}\PY{n}{pi}\PY{o}{.}\PY{n}{n}\PY{p}{(}\PY{l+m+mi}{50}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}40}]:}
    
    $$3.1415926535897932384626433832795028841971693993751$$

    

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}41}]:} \PY{n}{sympy}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}41}]:}
    
    $$\sqrt{2}$$

    

\(\sqrt{2}\) two approximated to 50 digits is

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}42}]:} \PY{n}{sympy}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{)}\PY{o}{.}\PY{n}{n}\PY{p}{(}\PY{l+m+mi}{50}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}42}]:}
    
    $$1.4142135623730950488016887242096980785696718753769$$

    

... we can even find approximations to more complicated expressions:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}44}]:} \PY{n}{sympy}\PY{o}{.}\PY{n}{exp}\PY{p}{(} \PY{n}{sympy}\PY{o}{.}\PY{n}{root}\PY{p}{(}\PY{n}{sympy}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)} \PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}44}]:}
    
    $$e^{\sqrt[5]{-1 + \sqrt{2}}}$$

    

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}45}]:} \PY{n}{sympy}\PY{o}{.}\PY{n}{exp}\PY{p}{(} \PY{n}{sympy}\PY{o}{.}\PY{n}{root}\PY{p}{(}\PY{n}{sympy}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)} \PY{p}{)}\PY{o}{.}\PY{n}{n}\PY{p}{(}\PY{l+m+mi}{50}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}45}]:}
    
    $$2.3126351501944463406364037678832846493032008107479$$

    

\section{Symbolic differentiation}\label{symbolic-differentiation}

We can use sympy to compute derivatives of expressions using the
sympy.diff function.

Let's compute \(\frac{d}{dx}\left(x^4+x^3+x^2+x+1\right)\)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}46}]:} \PY{k+kn}{import} \PY{n+nn}{sympy}
         \PY{k+kn}{from} \PY{n+nn}{sympy}\PY{n+nn}{.}\PY{n+nn}{abc} \PY{k}{import} \PY{n}{x}
         
         \PY{n}{sympy}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{4}\PY{o}{+}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{3}\PY{o}{+}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2}\PY{o}{+}\PY{n}{x}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{x}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}46}]:}
    
    $$4 x^{3} + 3 x^{2} + 2 x + 1$$

    

... or the more complicated derivative
\(\frac{d}{dx} \left(  (x^4+x^3+x^2+x+1)e^{x^2+\sin(x^2)} \right)\)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}47}]:} \PY{n}{sympy}\PY{o}{.}\PY{n}{diff}\PY{p}{(} \PY{p}{(}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{4}\PY{o}{+}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{3}\PY{o}{+}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2}\PY{o}{+}\PY{n}{x}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{*}\PY{n}{sympy}\PY{o}{.}\PY{n}{exp}\PY{p}{(}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{+} \PY{n}{sympy}\PY{o}{.}\PY{n}{sin}\PY{p}{(}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{n}{x}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}47}]:}
    
    $$\left(2 x \cos{\left (x^{2} \right )} + 2 x\right) \left(x^{4} + x^{3} + x^{2} + x + 1\right) e^{x^{2} + \sin{\left (x^{2} \right )}} + \left(4 x^{3} + 3 x^{2} + 2 x + 1\right) e^{x^{2} + \sin{\left (x^{2} \right )}}$$

    

\section{Symbolic integration}\label{symbolic-integration}

We can use sympy to compute derivatives of expressions using the
sympy.integrate function.

Let's compute \(\int (x^2 -x -1)\,dx\):

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}48}]:} \PY{k+kn}{import} \PY{n+nn}{sympy}
         \PY{k+kn}{from} \PY{n+nn}{sympy}\PY{n+nn}{.}\PY{n+nn}{abc} \PY{k}{import} \PY{n}{x}
         
         \PY{n}{sympy}\PY{o}{.}\PY{n}{integrate}\PY{p}{(}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{\PYZhy{}}\PY{n}{x} \PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{x}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}48}]:}
    
    $$\frac{x^{3}}{3} - \frac{x^{2}}{2} - x$$

    

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}28}]:} \PY{c+c1}{\PYZsh{} ... another example, that illustrates integration by parts:}
\end{Verbatim}

... or another example (notice the integration by parts):
\(\int x e^x\,dx\)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}49}]:} \PY{n}{sympy}\PY{o}{.}\PY{n}{integrate}\PY{p}{(}\PY{n}{x} \PY{o}{*} \PY{n}{sympy}\PY{o}{.}\PY{n}{exp}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{,} \PY{n}{x}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}49}]:}
    
    $$\left(x - 1\right) e^{x}$$

    

We can also compute definite integrals. E.g., \(\int_0^5 xe^x\,dx\).

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}51}]:} \PY{n}{sympy}\PY{o}{.}\PY{n}{integrate}\PY{p}{(}\PY{n}{x} \PY{o}{*} \PY{n}{sympy}\PY{o}{.}\PY{n}{exp}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{n}{x}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{5}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}51}]:}
    
    $$1 + 4 e^{5}$$

    

\section{Making functions out of
expressions}\label{making-functions-out-of-expressions}

Especially for plotting, it is useful to be able to make a function out
of a sympy expression. We can do this with the sympy.lambdify function

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}52}]:} \PY{k+kn}{import} \PY{n+nn}{sympy}
         \PY{k+kn}{from} \PY{n+nn}{sympy}\PY{n+nn}{.}\PY{n+nn}{abc} \PY{k}{import} \PY{n}{x}\PY{p}{,}\PY{n}{y}
         
         \PY{n}{cubic}  \PY{o}{=} \PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{3} \PY{o}{\PYZhy{}} \PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{+} \PY{n}{x} \PY{o}{+}\PY{l+m+mi}{3}
         \PY{n}{f} \PY{o}{=} \PY{n}{sympy}\PY{o}{.}\PY{n}{lambdify}\PY{p}{(}\PY{p}{[}\PY{n}{x}\PY{p}{]}\PY{p}{,} \PY{n}{cubic}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} 
\end{Verbatim}

Now we have the function \(f(x):=x^3-x^2+x+3\) and we can call it:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}56}]:} \PY{n}{f}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{)} 
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}56}]:}
    
    $$9$$

    

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}57}]:} \PY{n}{f}\PY{p}{(}\PY{n}{x}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}57}]:}
    
    $$x^{3} - x^{2} + x + 3$$

    

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}58}]:} \PY{n}{f}\PY{p}{(}\PY{n}{y}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}58}]:}
    
    $$y^{3} - y^{2} + y + 3$$

    

\chapter{Numpy}\label{numpy}

Numpy is a widely used external package for doing matrix computations.
It is designed to be very fast.

\section{Arrays}\label{arrays}

The array is the basic datastructure of numpy. We can think of them as
vectors.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        
        \PY{n}{a} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{]}\PY{p}{)}
        \PY{n}{b} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{p}{[}\PY{l+m+mi}{4}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{]}\PY{p}{)}
        \PY{n}{a} \PY{o}{+} \PY{n}{b}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}3}]:} array([5, 5, 6])
\end{Verbatim}
            
... we can compute the dot product:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{n}{a}\PY{o}{.}\PY{n}{dot}\PY{p}{(}\PY{n}{b}\PY{p}{)} \PY{c+c1}{\PYZsh{} 4 + 6 + 9}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}4}]:} 19
\end{Verbatim}
            
\section{Numpy functions}\label{numpy-functions}

Numpy provides many mathematical functions like numpy.sin, numpy.cos,
etc. When applying these to arrays, they are applied entry-wise. This is
useful for plotting.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        
        \PY{n}{a} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{,}\PY{l+m+mi}{9}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{]}\PY{p}{)}
        \PY{n}{b} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sin}\PY{p}{(}\PY{n}{a}\PY{p}{)}
        \PY{n}{c} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{a}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{c+c1}{\PYZsh{} b == [sin(0), sin(1), sin(2), ... , sin(10)]}
        \PY{n}{b}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}6}]:} array([ 0.        ,  0.84147098,  0.90929743,  0.14112001, -0.7568025 ,
               -0.95892427, -0.2794155 ,  0.6569866 ,  0.98935825,  0.41211849,
               -0.54402111])
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{c+c1}{\PYZsh{} c == [sqrt(0), sqrt(1), sqrt(2), ... , sqrt(10)]}
        \PY{n}{c}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}7}]:} array([ 0.        ,  1.        ,  1.41421356,  1.73205081,  2.        ,
                2.23606798,  2.44948974,  2.64575131,  2.82842712,  3.        ,
                3.16227766])
\end{Verbatim}
            
\section{Matrices}\label{matrices}

Matrices can be represented as 2D numpy arrays

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
         
         \PY{n}{M} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{p}{[}
             \PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{]}\PY{p}{,}
             \PY{p}{[}\PY{l+m+mi}{4}\PY{p}{,} \PY{l+m+mi}{5}\PY{p}{,} \PY{l+m+mi}{6}\PY{p}{]}\PY{p}{,}
             \PY{p}{[}\PY{l+m+mi}{7}\PY{p}{,} \PY{l+m+mi}{8}\PY{p}{,} \PY{l+m+mi}{9}\PY{p}{]}\PY{p}{,}
         \PY{p}{]}\PY{p}{)}
\end{Verbatim}

We can access columns, e.g., the twoth column:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{n}{M}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{]}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}13}]:} array([3, 6, 9])
\end{Verbatim}
            
We can access columns, e.g., the oneth row:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{n}{M}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{p}{:}\PY{p}{]}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}15}]:} array([4, 5, 6])
\end{Verbatim}
            
We can compute multiply a matrix with a vector using the .dot function:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}17}]:} \PY{n}{v} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{p}{]}\PY{p}{)}
         \PY{n}{M}\PY{o}{.}\PY{n}{dot}\PY{p}{(}\PY{n}{v}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}17}]:} array([14, 32, 50])
\end{Verbatim}
            
We can multiply a matrix with another matrix, also using the .dot
function :

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}18}]:} \PY{n}{M}\PY{o}{.}\PY{n}{dot}\PY{p}{(}\PY{n}{M}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}18}]:} array([[ 30,  36,  42],
                [ 66,  81,  96],
                [102, 126, 150]])
\end{Verbatim}
            
Waring: The * operator does entrywise multiplication!

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} \PY{n}{M}\PY{o}{*}\PY{n}{M}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}19}]:} array([[ 1,  4,  9],
                [16, 25, 36],
                [49, 64, 81]])
\end{Verbatim}
            
\section{Matrix row/column
operations}\label{matrix-rowcolumn-operations}

Consider:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}24}]:} \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
         
         \PY{n}{M} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{p}{[}
             \PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{]}\PY{p}{,}
             \PY{p}{[}\PY{l+m+mi}{4}\PY{p}{,} \PY{l+m+mi}{5}\PY{p}{,} \PY{l+m+mi}{6}\PY{p}{]}\PY{p}{,}
             \PY{p}{[}\PY{l+m+mi}{7}\PY{p}{,} \PY{l+m+mi}{8}\PY{p}{,} \PY{l+m+mi}{9}\PY{p}{]}\PY{p}{,}
         \PY{p}{]}\PY{p}{)}
\end{Verbatim}

We can easily perform row/column swaps.

The following swaps the zeroth and oneth rows of M:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}25}]:} \PY{n}{M}\PY{p}{[}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,}\PY{p}{:}\PY{p}{]} \PY{o}{=} \PY{n}{M}\PY{p}{[}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,}\PY{p}{:}\PY{p}{]} 
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}26}]:} \PY{n}{M}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}26}]:} array([[4, 5, 6],
                [1, 2, 3],
                [7, 8, 9]])
\end{Verbatim}
            
The following swaps the oneth and twoth columns of M:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}27}]:} \PY{n}{M}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{]}\PY{p}{]} \PY{o}{=} \PY{n}{M}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{]}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}29}]:} \PY{n}{M}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}29}]:} array([[4, 6, 5],
                [1, 3, 2],
                [7, 9, 8]])
\end{Verbatim}
            
... and we can perform elementary row operations (e.g., for implementing
Gauss elimination).

The following replaces the twoth row with 4 times the twoth row - 7
times the zeroth row

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}30}]:} \PY{n}{M}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{,}\PY{p}{:}\PY{p}{]} \PY{o}{=} \PY{l+m+mi}{4}\PY{o}{*}\PY{n}{M}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{,}\PY{p}{:}\PY{p}{]} \PY{o}{\PYZhy{}} \PY{l+m+mi}{7}\PY{o}{*}\PY{n}{M}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{p}{:}\PY{p}{]}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}31}]:} \PY{n}{M}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}31}]:} array([[ 4,  6,  5],
                [ 1,  3,  2],
                [ 0, -6, -3]])
\end{Verbatim}
            
Transposing is easy.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}33}]:} \PY{n}{M}\PY{o}{.}\PY{n}{transpose}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}33}]:} array([[ 4,  1,  0],
                [ 6,  3, -6],
                [ 5,  2, -3]])
\end{Verbatim}
            
\chapter{Basic plotting with
matplotlib}\label{basic-plotting-with-matplotlib}

Matplotlib is a powerful plotting module for python. It is a bit
difficult to use, however.

We usually use it together with numpy.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
\end{Verbatim}

\section{Basic line plots}\label{basic-line-plots}

We can make basic line plots with matplotlib.

We first import it with numpy:

\subsection{\texorpdfstring{Example
\(y=x^2+2\)}{Example y=x\^{}2+2}}\label{example-yx22}

... we will plot the points satisfying the equation \(y=x^2+2\) with
\(x\in (-1,1)\).

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        
        \PY{c+c1}{\PYZsh{} We create a figure and axes to plot on}
        \PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{plt}\PY{o}{.}\PY{n}{axes}\PY{p}{(}\PY{p}{)}
        
        \PY{n}{X} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{linspace}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{10}\PY{p}{)} \PY{c+c1}{\PYZsh{} We take 10 evenly spaced x\PYZhy{}values in the interval (\PYZhy{}1,1)}
        \PY{n}{Y} \PY{o}{=} \PY{n}{X}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{+} \PY{l+m+mi}{2}               \PY{c+c1}{\PYZsh{} We compute the Y\PYZhy{}values}
        
        \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{Y}\PY{p}{)} \PY{c+c1}{\PYZsh{} We plot the data on the axes}
        \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}      \PY{c+c1}{\PYZsh{} We show the plot}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{A Python Primer for Mathematics_files/A Python Primer for Mathematics_565_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
\subsection{\texorpdfstring{Example:
\(f(x):=\sin(x) + \frac{1}{2}\sin(4x)\)}{Example: f(x):=\textbackslash{}sin(x) + \textbackslash{}frac\{1\}\{2\}\textbackslash{}sin(4x)}}\label{example-fxsinx-frac12sin4x}

We plot the graph of the function
\(f(x):=\sin(x) + \frac{1}{2}\sin(4x)\) on the interval \((-\pi,3\pi)\)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        
        \PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{plt}\PY{o}{.}\PY{n}{axes}\PY{p}{(}\PY{p}{)}
        
        \PY{n}{f} \PY{o}{=} \PY{k}{lambda} \PY{n}{x} \PY{p}{:} \PY{n}{np}\PY{o}{.}\PY{n}{sin}\PY{p}{(}\PY{n}{x}\PY{p}{)} \PY{o}{+} \PY{o}{.}\PY{l+m+mi}{5}\PY{o}{*}\PY{n}{np}\PY{o}{.}\PY{n}{sin}\PY{p}{(}\PY{l+m+mi}{4}\PY{o}{*}\PY{n}{x}\PY{p}{)}
        
        \PY{n}{X} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{linspace}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{n}{np}\PY{o}{.}\PY{n}{pi}\PY{p}{,} \PY{l+m+mi}{3}\PY{o}{*}\PY{n}{np}\PY{o}{.}\PY{n}{pi}\PY{p}{,} \PY{l+m+mi}{100}\PY{p}{)}
        
        \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{f}\PY{p}{(}\PY{n}{X}\PY{p}{)}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{A Python Primer for Mathematics_files/A Python Primer for Mathematics_567_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
\section{Basic scatter plots}\label{basic-scatter-plots}

Scatter plots are plots of discrete points.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
         \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{c+c1}{\PYZsh{} We make a figure and axes.}
        \PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{plt}\PY{o}{.}\PY{n}{axes}\PY{p}{(}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{} The points we want to plot.}
        \PY{n}{points} \PY{o}{=} \PY{p}{[}
            \PY{p}{(}\PY{l+m+mi}{4}  \PY{p}{,} \PY{l+m+mi}{5}\PY{p}{)}\PY{p}{,}
            \PY{p}{(}\PY{l+m+mi}{5}  \PY{p}{,} \PY{l+m+mi}{5}\PY{p}{)}\PY{p}{,}
            \PY{p}{(}\PY{l+m+mf}{5.5}\PY{p}{,} \PY{l+m+mf}{5.5}\PY{p}{)}\PY{p}{,}
            \PY{p}{(}\PY{l+m+mi}{3}  \PY{p}{,} \PY{l+m+mf}{3.45}\PY{p}{)}\PY{p}{,}
            \PY{p}{(}\PY{l+m+mf}{3.6}\PY{p}{,} \PY{l+m+mf}{4.36}\PY{p}{)}\PY{p}{,}
        \PY{p}{]}
        
        \PY{n}{xvals}\PY{p}{,} \PY{n}{yvals} \PY{o}{=} \PY{n+nb}{zip}\PY{p}{(}\PY{o}{*}\PY{n}{points}\PY{p}{)}
        \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{xvals}\PY{p}{,} \PY{n}{yvals}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{o}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{A Python Primer for Mathematics_files/A Python Primer for Mathematics_571_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
\section{Parametric plots}\label{parametric-plots}

We can also plot parametric funcitons:

We will plot the vector function \(f:[0,4]\to\mathbb{R}^2\) defined by
\(f(t):=(\cos(t), \sin(t))\) for \(t\in[0,4]\).

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        
        \PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{plt}\PY{o}{.}\PY{n}{axes}\PY{p}{(}\PY{p}{)}
        
        \PY{n}{f} \PY{o}{=} \PY{k}{lambda} \PY{n}{t}\PY{p}{:} \PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{cos}\PY{p}{(}\PY{n}{t}\PY{p}{)}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{sin}\PY{p}{(}\PY{n}{t}\PY{p}{)}\PY{p}{)}
        
        \PY{n}{T} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{linspace}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{,} \PY{l+m+mi}{100}\PY{p}{)}
        \PY{n}{X}\PY{p}{,}\PY{n}{Y} \PY{o}{=} \PY{n}{f}\PY{p}{(}\PY{n}{T}\PY{p}{)}
        
        \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{Y}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{A Python Primer for Mathematics_files/A Python Primer for Mathematics_574_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
\section{Changing the aspect ratio, plot range and
size}\label{changing-the-aspect-ratio-plot-range-and-size}

Sometimes our plots are squashed, we can control this by changing the
axes' aspect ratio.

See: https://en.wikipedia.org/wiki/Aspect\_ratio\_(image)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        
        \PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{plt}\PY{o}{.}\PY{n}{axes}\PY{p}{(}\PY{p}{)}
        \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}aspect}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)} \PY{c+c1}{\PYZsh{} axes\PYZsq{} \PYZdq{}aspect ratio\PYZdq{}  equal to 1}
        
        \PY{n}{f} \PY{o}{=} \PY{k}{lambda} \PY{n}{t}\PY{p}{:} \PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{cos}\PY{p}{(}\PY{n}{t}\PY{p}{)}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{sin}\PY{p}{(}\PY{n}{t}\PY{p}{)}\PY{p}{)}
        
        \PY{n}{T} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{linspace}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{,} \PY{l+m+mi}{100}\PY{p}{)}
        \PY{n}{X}\PY{p}{,}\PY{n}{Y} \PY{o}{=} \PY{n}{f}\PY{p}{(}\PY{n}{T}\PY{p}{)}
        
        \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{Y}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{A Python Primer for Mathematics_files/A Python Primer for Mathematics_577_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
We can control the plot range with the functions axes.set\_xlim and
axes.set\_ylim

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
         \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
         
         \PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{plt}\PY{o}{.}\PY{n}{axes}\PY{p}{(}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}aspect}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
         
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlim}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{)} \PY{c+c1}{\PYZsh{} We restrict to the first quadrant}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}ylim}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{)}
         
         \PY{n}{f} \PY{o}{=} \PY{k}{lambda} \PY{n}{t}\PY{p}{:} \PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{cos}\PY{p}{(}\PY{n}{t}\PY{p}{)}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{sin}\PY{p}{(}\PY{n}{t}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{T} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{linspace}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{,} \PY{l+m+mi}{100}\PY{p}{)}
         \PY{n}{X}\PY{p}{,}\PY{n}{Y} \PY{o}{=} \PY{n}{f}\PY{p}{(}\PY{n}{T}\PY{p}{)}
         
         \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{Y}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{A Python Primer for Mathematics_files/A Python Primer for Mathematics_579_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
... or we can make our plots a bit larger:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
         \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
         
         \PY{c+c1}{\PYZsh{} We can make our plot a bit larger}
         \PY{n}{fig}  \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)} \PY{c+c1}{\PYZsh{} in inches!   D:\PYZlt{}  }
         \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{axes}\PY{p}{(}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}aspect}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
         
         
         \PY{n}{f} \PY{o}{=} \PY{k}{lambda} \PY{n}{t}\PY{p}{:} \PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{cos}\PY{p}{(}\PY{n}{t}\PY{p}{)}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{sin}\PY{p}{(}\PY{n}{t}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{T} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{linspace}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{,} \PY{l+m+mi}{100}\PY{p}{)}
         \PY{n}{X}\PY{p}{,}\PY{n}{Y} \PY{o}{=} \PY{n}{f}\PY{p}{(}\PY{n}{T}\PY{p}{)}
         
         \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{Y}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{A Python Primer for Mathematics_files/A Python Primer for Mathematics_581_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
\section{Plotting with sympy}\label{plotting-with-sympy}

Often we want to plot sympy expressions. We can do this easily by
converting expressions to functons using the sympy.lambdify function.

Let's plot the graph of \(f:[-1,1]\to\mathbb{R}\) defined by
\(f(x):= x^3 -x^2 +x +3\) with \(x \in (-1,1)\).

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        
        \PY{k+kn}{from} \PY{n+nn}{sympy}\PY{n+nn}{.}\PY{n+nn}{abc} \PY{k}{import} \PY{n}{x}
        \PY{k+kn}{import} \PY{n+nn}{sympy}
        
        \PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{plt}\PY{o}{.}\PY{n}{axes}\PY{p}{(}\PY{p}{)}
        
        \PY{n}{f} \PY{o}{=} \PY{n}{sympy}\PY{o}{.}\PY{n}{lambdify}\PY{p}{(}\PY{p}{[}\PY{n}{x}\PY{p}{]}\PY{p}{,} \PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{3} \PY{o}{\PYZhy{}} \PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{+} \PY{n}{x} \PY{o}{+}\PY{l+m+mi}{3}\PY{p}{)} \PY{c+c1}{\PYZsh{} We define the function f}
        \PY{n}{X} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{linspace}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{100}\PY{p}{)}
        
        \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{f}\PY{p}{(}\PY{n}{X}\PY{p}{)}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{A Python Primer for Mathematics_files/A Python Primer for Mathematics_584_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
\section{Multiple plots on the same
axis}\label{multiple-plots-on-the-same-axis}

We can easily plot multiple functions on the same set of axes:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        
        \PY{k+kn}{from} \PY{n+nn}{sympy}\PY{n+nn}{.}\PY{n+nn}{abc} \PY{k}{import} \PY{n}{x}
        \PY{k+kn}{import} \PY{n+nn}{sympy}
        
        \PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{plt}\PY{o}{.}\PY{n}{axes}\PY{p}{(}\PY{p}{)}
        
        \PY{n}{f} \PY{o}{=} \PY{n}{sympy}\PY{o}{.}\PY{n}{lambdify}\PY{p}{(}\PY{p}{[}\PY{n}{x}\PY{p}{]}\PY{p}{,} \PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{3} \PY{o}{\PYZhy{}} \PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{+} \PY{n}{x} \PY{o}{+}\PY{l+m+mi}{3}\PY{p}{)}
        \PY{n}{g} \PY{o}{=} \PY{n}{sympy}\PY{o}{.}\PY{n}{lambdify}\PY{p}{(}\PY{p}{[}\PY{n}{x}\PY{p}{]}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{+} \PY{n}{x} \PY{o}{+}\PY{l+m+mi}{2}\PY{p}{)}
        
        \PY{n}{X} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{linspace}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{100}\PY{p}{)}
        
        \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{f}\PY{p}{(}\PY{n}{X}\PY{p}{)}\PY{p}{)}
        \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{g}\PY{p}{(}\PY{n}{X}\PY{p}{)}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{A Python Primer for Mathematics_files/A Python Primer for Mathematics_587_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
\chapter{Curve fitting with sympy from first
principles}\label{curve-fitting-with-sympy-from-first-principles}

Say we are given a list on 20 data points:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{n}{data} \PY{o}{=} \PY{p}{[}
          \PY{p}{(}\PY{l+m+mf}{1.36}\PY{p}{,} \PY{l+m+mf}{3.18}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{1.19}\PY{p}{,} \PY{l+m+mf}{0.13}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{2.95}\PY{p}{,} \PY{l+m+mf}{10.54}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{2.84}\PY{p}{,} \PY{l+m+mf}{9.59}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{0.44}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mf}{1.69}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{2.83}\PY{p}{,} \PY{l+m+mf}{6.43}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{1.39}\PY{p}{,} \PY{l+m+mf}{0.13}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{1.88}\PY{p}{,} \PY{l+m+mf}{2.32}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{1.23}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mf}{0.41}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{0.92}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mf}{0.11}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{0.97}\PY{p}{,} \PY{l+m+mf}{1.14}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{2.19}\PY{p}{,} \PY{l+m+mf}{4.05}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{2.02}\PY{p}{,} \PY{l+m+mf}{4.39}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{2.48}\PY{p}{,} \PY{l+m+mf}{5.54}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{1.2}\PY{p}{,} \PY{l+m+mf}{0.94}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{0.22}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mf}{0.92}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{0.3}\PY{p}{,} \PY{l+m+mf}{1.8}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{1.02}\PY{p}{,} \PY{l+m+mf}{1.4}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{0.07}\PY{p}{,} \PY{l+m+mf}{0.94}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{2.82}\PY{p}{,} \PY{l+m+mf}{6.72}\PY{p}{)}\PY{p}{,}
        \PY{p}{]}
\end{Verbatim}

Let's visualize our data on a scatter plot:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        
        \PY{n}{fig}\PY{p}{,}\PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{plt}\PY{o}{.}\PY{n}{axes}\PY{p}{(}\PY{p}{)}
        
        \PY{n}{dataX}\PY{p}{,} \PY{n}{dataY} \PY{o}{=} \PY{n+nb}{zip}\PY{p}{(}\PY{o}{*}\PY{n}{data}\PY{p}{)}
        \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{dataX}\PY{p}{,} \PY{n}{dataY}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{o}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        
        \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{A Python Primer for Mathematics_files/A Python Primer for Mathematics_592_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} 
\end{Verbatim}

We want to fit a curve through these data points as closely as possible.

First, we need to choose a type of curve before we can start fitting it
to the data. Let's assume that we want to fit the graph of the following
function to our data: \(f(x) := ax^2 + bx +c\)

Now, we need to find numbers the parameters a,b and c so that the curve
matches the data as closely as possible.

We begin just by guessing: Say \(f_1(x):=x^2 + 2x - 1\)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{k+kn}{import} \PY{n+nn}{sympy}
        \PY{k+kn}{from} \PY{n+nn}{sympy}\PY{n+nn}{.}\PY{n+nn}{abc} \PY{k}{import} \PY{n}{x}
        \PY{n}{sympy}\PY{o}{.}\PY{n}{init\PYZus{}printing}\PY{p}{(}\PY{p}{)}
        
        \PY{n}{f1} \PY{o}{=} \PY{n}{sympy}\PY{o}{.}\PY{n}{lambdify}\PY{p}{(}\PY{p}{[}\PY{n}{x}\PY{p}{]}\PY{p}{,} \PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{+} \PY{l+m+mi}{2}\PY{o}{*}\PY{n}{x} \PY{o}{\PYZhy{}} \PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}

Let's plot this guess, together with our data:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{n}{fig}\PY{p}{,}\PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{plt}\PY{o}{.}\PY{n}{axes}\PY{p}{(}\PY{p}{)}
        
        \PY{n}{X} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{linspace}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{)}
        
        \PY{n}{dataX}\PY{p}{,} \PY{n}{dataY} \PY{o}{=} \PY{n+nb}{zip}\PY{p}{(}\PY{o}{*}\PY{n}{data}\PY{p}{)}
        \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{dataX}\PY{p}{,} \PY{n}{dataY}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{o}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{f1}\PY{p}{(}\PY{n}{X}\PY{p}{)}\PY{p}{)}
        
        \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{A Python Primer for Mathematics_files/A Python Primer for Mathematics_597_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
Not bad! But it goes a bit high, let's shift it down in our next guess.

Let's try \(f_2(x):=x^2 + 2x - 4\).

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{f2} \PY{o}{=} \PY{n}{sympy}\PY{o}{.}\PY{n}{lambdify}\PY{p}{(}\PY{p}{[}\PY{n}{x}\PY{p}{]}\PY{p}{,} \PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{+} \PY{l+m+mi}{2}\PY{o}{*}\PY{n}{x} \PY{o}{\PYZhy{}} \PY{l+m+mi}{4}\PY{p}{)}
\end{Verbatim}

... and plot our guesses \(f_1\) and \(f_2\) with our given data:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n}{fig}\PY{p}{,}\PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{plt}\PY{o}{.}\PY{n}{axes}\PY{p}{(}\PY{p}{)}
        
        \PY{n}{X} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{linspace}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{)}
        
        \PY{n}{dataX}\PY{p}{,} \PY{n}{dataY} \PY{o}{=} \PY{n+nb}{zip}\PY{p}{(}\PY{o}{*}\PY{n}{data}\PY{p}{)}
        \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{dataX}\PY{p}{,} \PY{n}{dataY}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{o}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        
        \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{f1}\PY{p}{(}\PY{n}{X}\PY{p}{)}\PY{p}{)}
        \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{f2}\PY{p}{(}\PY{n}{X}\PY{p}{)}\PY{p}{)}
        
        \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{A Python Primer for Mathematics_files/A Python Primer for Mathematics_601_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
Better, but \(f_2\)'s graph is a bit low on the left.

There must be a better way, rather than guessing!

Our data is a set of 20 points
\(\mathrm{data} = \{(x_i, y_i) : i \in \{0,1,2,3,...19\} \}\). We want
to simutaneously MINIMIZE the DISTANCE from the data points
\((x_i, y_i)\) to the points on the graph of f, i.e., the points
\((x_i, f(x_i))\) For every \(i\), the distance from \((x_i, y_i)\) to
\((x_i, f(x_i))\) is: \[\sqrt{ (x_i-x_i)^2+(y_i-f(x_i))^2 }
     =\sqrt{ (y_i-f(x_i))^2}=|y_i-f(x_i)|.\] Minimization? Perhaps we
can use calculus?

The absoulte value \(x\mapsto|x|\) is NOT differentiable at zero. Rather
let's use the square of the DISTANCE from the data points \((x_i, y_i)\)
to the points on the graph of \(f\). That is
\[(x_i-x_i)^2+(y_i-f(x_i))^2=(y_i-f(x_i))^2.\] This is for one data
point, but we want this quantity to be small for all datapoints.

Lets consider the sum of all these quantities:
\[\sum_{(x_i,y_i)\in{\mathrm{data}}}(y_i-f(x_i))^2
     =\sum_{(x_i,y_i)\in{\mathrm{data}}}(y_i-(ax_i^2+bx_i+c))^2\] If we
can find values of a,b,c that makes the above quantity small, as small
as possible, we are in business! This is now our objective!

Let's use sympy to compute the above quantity for our 20 given data
points.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{k+kn}{from} \PY{n+nn}{sympy}\PY{n+nn}{.}\PY{n+nn}{abc} \PY{k}{import} \PY{n}{x}\PY{p}{,}\PY{n}{a}\PY{p}{,}\PY{n}{b}\PY{p}{,}\PY{n}{c}
        \PY{k+kn}{import} \PY{n+nn}{sympy}
        
        \PY{n}{f} \PY{o}{=} \PY{n}{sympy}\PY{o}{.}\PY{n}{lambdify}\PY{p}{(}\PY{p}{[}\PY{n}{x}\PY{p}{]}\PY{p}{,} \PY{n}{a}\PY{o}{*}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2}\PY{o}{+} \PY{n}{b}\PY{o}{*}\PY{n}{x}\PY{o}{+}\PY{n}{c}\PY{p}{)}
        \PY{n}{objective} \PY{o}{=} \PY{n+nb}{sum}\PY{p}{(} \PY{p}{(}\PY{n}{y\PYZus{}i} \PY{o}{\PYZhy{}} \PY{n}{f}\PY{p}{(}\PY{n}{x\PYZus{}i}\PY{p}{)}\PY{p}{)}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{k}{for} \PY{n}{x\PYZus{}i}\PY{p}{,}\PY{n}{y\PYZus{}i} \PY{o+ow}{in} \PY{n}{data}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{n}{sympy}\PY{o}{.}\PY{n}{simplify}\PY{p}{(}\PY{n}{objective}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}10}]:}
    
    $$374.39609912 a^{2} + 295.32802 a b + 125.212 a c - 725.80455 a + 62.606 b^{2} + 60.64 b c - 277.3806 b + 20.0 c^{2} - 112.22 c + 383.6073$$

    

Notice how this expression is only in the parameters a, b, and c. We
must find the values a, b, and c for which the objective is a minimum.
This can only happen where the objective has a critical point, i.e., its
partial derivatives to a,b,c are simultaneously zero. This will be
discussed in more detail in a course on multivariate calculus

(See
https://en.wikipedia.org/wiki/Critical\_point\_(mathematics)\#Several\_variables)

I.e., We must solve the following system of three equations:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}23}]:} \PY{p}{[}   
             \PY{n}{sympy}\PY{o}{.}\PY{n}{Eq}\PY{p}{(}\PY{n}{sympy}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{n}{objective}\PY{p}{,} \PY{n}{a}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{)}\PY{p}{,}
             \PY{n}{sympy}\PY{o}{.}\PY{n}{Eq}\PY{p}{(}\PY{n}{sympy}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{n}{objective}\PY{p}{,} \PY{n}{b}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{)}\PY{p}{,}
             \PY{n}{sympy}\PY{o}{.}\PY{n}{Eq}\PY{p}{(}\PY{n}{sympy}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{n}{objective}\PY{p}{,} \PY{n}{c}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{)}\PY{p}{,} 
         \PY{p}{]}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}23}]:}
    
    $$\left [ 748.79219824 a + 295.32802 b + 125.212 c - 725.80455 = 0, \quad 295.32802 a + 125.212 b + 60.64 c - 277.3806 = 0, \quad 125.212 a + 60.64 b + 40 c - 112.22 = 0\right ]$$

    

... call sympy.solve:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}24}]:} \PY{n}{parameters} \PY{o}{=} \PY{n}{sympy}\PY{o}{.}\PY{n}{solve}\PY{p}{(}\PY{p}{[}
             \PY{n}{sympy}\PY{o}{.}\PY{n}{Eq}\PY{p}{(}\PY{n}{sympy}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{n}{objective}\PY{p}{,} \PY{n}{a}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{)}\PY{p}{,}
             \PY{n}{sympy}\PY{o}{.}\PY{n}{Eq}\PY{p}{(}\PY{n}{sympy}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{n}{objective}\PY{p}{,} \PY{n}{b}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{)}\PY{p}{,}
             \PY{n}{sympy}\PY{o}{.}\PY{n}{Eq}\PY{p}{(}\PY{n}{sympy}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{n}{objective}\PY{p}{,} \PY{n}{c}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{)}\PY{p}{,}            
         \PY{p}{]}\PY{p}{,} \PY{p}{[}\PY{n}{a}\PY{p}{,}\PY{n}{b}\PY{p}{,}\PY{n}{c}\PY{p}{]}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}25}]:} \PY{n}{parameters}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}25}]:}
    
    $$\left \{ a : 1.5425209779946, \quad b : -1.66731287670701, \quad c : 0.504592903671337\right \}$$

    

These are the parameters we want. Let's substiture into \(ax^2+bx+c\)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{n}{fitted\PYZus{}expression} \PY{o}{=} \PY{p}{(}\PY{n}{a}\PY{o}{*}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2}\PY{o}{+}\PY{n}{b}\PY{o}{*}\PY{n}{x}\PY{o}{+}\PY{n}{c}\PY{p}{)}\PY{o}{.}\PY{n}{subs}\PY{p}{(}\PY{n}{parameters}\PY{p}{)}
         \PY{n}{fitted\PYZus{}expression}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}16}]:}
    
    $$1.5425209779946 x^{2} - 1.66731287670701 x + 0.504592903671337$$

    

Let's make a function out of this expression

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} \PY{n}{fitted\PYZus{}f} \PY{o}{=} \PY{n}{sympy}\PY{o}{.}\PY{n}{lambdify}\PY{p}{(}\PY{p}{[}\PY{n}{x}\PY{p}{]}\PY{p}{,} \PY{n}{fitted\PYZus{}expression}\PY{p}{)}
\end{Verbatim}

... and plot it against our previous guesses and our data:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}22}]:} \PY{n}{fig}\PY{p}{,}\PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{plt}\PY{o}{.}\PY{n}{axes}\PY{p}{(}\PY{p}{)}
         
         \PY{n}{X} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{linspace}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{)}
         
         \PY{n}{dataX}\PY{p}{,} \PY{n}{dataY} \PY{o}{=} \PY{n+nb}{zip}\PY{p}{(}\PY{o}{*}\PY{n}{data}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{dataX}\PY{p}{,} \PY{n}{dataY}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{o}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{f1}\PY{p}{(}\PY{n}{X}\PY{p}{)}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{f2}\PY{p}{(}\PY{n}{X}\PY{p}{)}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{fitted\PYZus{}f}\PY{p}{(}\PY{n}{X}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{A Python Primer for Mathematics_files/A Python Primer for Mathematics_615_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
Notice, that our fitted function closely fits the data, closer than our
arbitrary guesses.

\chapter{Curve fitting with numpy}\label{curve-fitting-with-numpy}

Say we are given a list on 20 data points:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{n}{data} \PY{o}{=} \PY{p}{[}
          \PY{p}{(}\PY{l+m+mf}{1.36}\PY{p}{,} \PY{l+m+mf}{3.18}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{1.19}\PY{p}{,} \PY{l+m+mf}{0.13}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{2.95}\PY{p}{,} \PY{l+m+mf}{10.54}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{2.84}\PY{p}{,} \PY{l+m+mf}{9.59}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{0.44}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mf}{1.69}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{2.83}\PY{p}{,} \PY{l+m+mf}{6.43}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{1.39}\PY{p}{,} \PY{l+m+mf}{0.13}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{1.88}\PY{p}{,} \PY{l+m+mf}{2.32}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{1.23}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mf}{0.41}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{0.92}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mf}{0.11}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{0.97}\PY{p}{,} \PY{l+m+mf}{1.14}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{2.19}\PY{p}{,} \PY{l+m+mf}{4.05}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{2.02}\PY{p}{,} \PY{l+m+mf}{4.39}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{2.48}\PY{p}{,} \PY{l+m+mf}{5.54}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{1.2}\PY{p}{,} \PY{l+m+mf}{0.94}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{0.22}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mf}{0.92}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{0.3}\PY{p}{,} \PY{l+m+mf}{1.8}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{1.02}\PY{p}{,} \PY{l+m+mf}{1.4}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{0.07}\PY{p}{,} \PY{l+m+mf}{0.94}\PY{p}{)}\PY{p}{,}
          \PY{p}{(}\PY{l+m+mf}{2.82}\PY{p}{,} \PY{l+m+mf}{6.72}\PY{p}{)}\PY{p}{,}
        \PY{p}{]}
\end{Verbatim}

Let's visualize our data on a scatter plot:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{n}{fig}\PY{p}{,}\PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{plt}\PY{o}{.}\PY{n}{axes}\PY{p}{(}\PY{p}{)}
        
        \PY{n}{dataX}\PY{p}{,} \PY{n}{dataY} \PY{o}{=} \PY{n+nb}{zip}\PY{p}{(}\PY{o}{*}\PY{n}{data}\PY{p}{)}
        \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{dataX}\PY{p}{,} \PY{n}{dataY}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{o}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        
        \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{A Python Primer for Mathematics_files/A Python Primer for Mathematics_621_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
We will use the numpy "polyfit" and "poly1d functions to fit polynomials
to our data using a "least squares fit"

We can look up these functions' help to understand how to use them:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        \PY{n}{help}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{polyfit}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{help}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{poly1d}\PY{p}{)}
\end{Verbatim}

For any n points we can fit a unique (n-1)th-degree polynomial through
the points so that the polynomial passes exactly through the data
points.

Lets find the coefficients of a 19th degree polynomial p that passes
through all 20 points using the fucntion numpy.polyfit:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        \PY{n}{p\PYZus{}coeffs} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{polyfit}\PY{p}{(}\PY{n}{dataX}\PY{p}{,}\PY{n}{dataY}\PY{p}{,} \PY{l+m+mi}{19}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
/home/miek/stuff/devenv/lib/python3.6/site-packages/ipykernel\_launcher.py:2: RankWarning: Polyfit may be poorly conditioned
  

    \end{Verbatim}

Let's look at these coefficients:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{p\PYZus{}coeffs}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}7}]:} array([ -3.18539670e+02,   6.68603366e+03,  -5.89570950e+04,
                 2.67908425e+05,  -5.32306604e+05,  -5.99817584e+05,
                 5.72029885e+06,  -8.69702146e+06,  -2.55751219e+07,
                 1.56254880e+08,  -3.95305093e+08,   6.32806621e+08,
                -7.01142368e+08,   5.51343098e+08,  -3.06943392e+08,
                 1.18340402e+08,  -3.02547577e+07,   4.75522618e+06,
                -3.98557673e+05,   1.25918369e+04])
\end{Verbatim}
            
We construct a function using numpy.poly1d, that outputs the value of
the polynomial with these coeficients

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n}{p} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{poly1d}\PY{p}{(}\PY{n}{p\PYZus{}coeffs}\PY{p}{)}
\end{Verbatim}

We can see what this polynomial is by evaluating p(x) with x some sympy
symbol.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{k+kn}{import} \PY{n+nn}{sympy}
        \PY{n}{sympy}\PY{o}{.}\PY{n}{init\PYZus{}printing}\PY{p}{(}\PY{p}{)}
        \PY{k+kn}{from} \PY{n+nn}{sympy}\PY{n+nn}{.}\PY{n+nn}{abc} \PY{k}{import} \PY{n}{x}
        
        \PY{n}{sympy}\PY{o}{.}\PY{n}{expand}\PY{p}{(}\PY{n}{p}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}9}]:}
    
    $$- 318.53966981043 x^{19} + 6686.0336559197 x^{18} - 58957.0950235226 x^{17} + 267908.424710235 x^{16} - 532306.603594159 x^{15} - 599817.583786623 x^{14} + 5720298.84687654 x^{13} - 8697021.46134197 x^{12} - 25575121.9103217 x^{11} + 156254880.201103 x^{10} - 395305092.65404 x^{9} + 632806620.888263 x^{8} - 701142367.606734 x^{7} + 551343098.312033 x^{6} - 306943392.361484 x^{5} + 118340401.947435 x^{4} - 30254757.692942 x^{3} + 4755226.18257813 x^{2} - 398557.67261348 x + 12591.8368556302$$

    

Compare the coefficients of our polynomial with the numbers in
p\_coeffs!

Let us plot our data and out polynomial p together:\textbar{}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{n}{X} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{linspace}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{100}\PY{p}{)}
         
         \PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{plt}\PY{o}{.}\PY{n}{axes}\PY{p}{(}\PY{p}{)}
         
         \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{dataX}\PY{p}{,}\PY{n}{dataY}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{o}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{X}\PY{p}{,}\PY{n}{p}\PY{p}{(}\PY{n}{X}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{A Python Primer for Mathematics_files/A Python Primer for Mathematics_635_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
Notice how this 19th degree polynomial passes through every data point,
but oscilates quite wildly out of the range of the Y-coordinates of the
data points: the interval {[}-2,9{]}. This polynomial is "over fitted"
to the data.

Let's look closer:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{n}{X} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{linspace}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{100}\PY{p}{)}
         
         \PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{plt}\PY{o}{.}\PY{n}{axes}\PY{p}{(}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}ylim}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{20}\PY{p}{)}
         
         \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{dataX}\PY{p}{,}\PY{n}{dataY}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{o}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{X}\PY{p}{,}\PY{n}{p}\PY{p}{(}\PY{n}{X}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{A Python Primer for Mathematics_files/A Python Primer for Mathematics_637_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
Let us fit 2nd degree polynomial q, i.e., a parabola, to the same data
(compare with the coefficients we computed in the previous chapter!):

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{n}{q\PYZus{}coeffs} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{polyfit}\PY{p}{(}\PY{n}{dataX}\PY{p}{,}\PY{n}{dataY}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}
         \PY{n}{q} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{poly1d}\PY{p}{(}\PY{n}{q\PYZus{}coeffs}\PY{p}{)}
         \PY{n}{sympy}\PY{o}{.}\PY{n}{expand}\PY{p}{(}\PY{n}{q}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}13}]:}
    
    $$1.5425209779946 x^{2} - 1.66731287670702 x + 0.50459290367134$$

    

... and plot our data along with p and q on the same set of axes:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{plt}\PY{o}{.}\PY{n}{axes}\PY{p}{(}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}ylim}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{20}\PY{p}{)}
         
         \PY{n}{X} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{linspace}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{100}\PY{p}{)}
         
         \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{dataX}\PY{p}{,}\PY{n}{dataY}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{o}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{X}\PY{p}{,}\PY{n}{p}\PY{p}{(}\PY{n}{X}\PY{p}{)}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{X}\PY{p}{,}\PY{n}{q}\PY{p}{(}\PY{n}{X}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{A Python Primer for Mathematics_files/A Python Primer for Mathematics_641_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
Notice how the parabola does not pass through all the datapoints, but
matches the overall trend of the data much closer than the 19th degree
polynomial.

That is not unexpected if you consider how our data points were
generated:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k+kn}{import} \PY{n+nn}{random}
        \PY{n}{X} \PY{o}{=} \PY{p}{[}\PY{n+nb}{round}\PY{p}{(}\PY{n}{random}\PY{o}{.}\PY{n}{uniform}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)} \PY{k}{for} \PY{n}{\PYZus{}} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{20}\PY{p}{)}\PY{p}{]}
        \PY{n}{Y} \PY{o}{=} \PY{p}{[}\PY{n+nb}{round}\PY{p}{(}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{o}{+} \PY{n}{random}\PY{o}{.}\PY{n}{uniform}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{X}\PY{p}{]}
        \PY{n}{data} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{zip}\PY{p}{(}\PY{n}{X}\PY{p}{,}\PY{n}{Y}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
